{"version":3,"names":["_jestMatcherUtils","require","_supportedMatchers","_interopRequireDefault","createToHaveBeenCalledMatcher","matcherName","methodName","received","spy","calls","mock","pass","length","message","matcherHint","getMockName","map","printReceived","assertionsNumber","createToHaveBeenCalledWith","expected","some","objects","equals","printExpected","expect","extend","Object","entries","supportedMatchers","reduce","result","matcherNameWith"],"sources":["@wordpress/jest-console/src/matchers.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { matcherHint, printExpected, printReceived } from 'jest-matcher-utils';\n\n/**\n * Internal dependencies\n */\nimport supportedMatchers from './supported-matchers';\n\nconst createToHaveBeenCalledMatcher =\n\t( matcherName, methodName ) => ( received ) => {\n\t\tconst spy = received[ methodName ];\n\t\tconst calls = spy.mock.calls;\n\t\tconst pass = calls.length > 0;\n\t\tconst message = pass\n\t\t\t? () =>\n\t\t\t\t\tmatcherHint( `.not${ matcherName }`, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function not to be called but it was called with:\\n' +\n\t\t\t\t\tcalls.map( printReceived )\n\t\t\t: () =>\n\t\t\t\t\tmatcherHint( matcherName, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function to be called.';\n\n\t\tspy.assertionsNumber += 1;\n\n\t\treturn {\n\t\t\tmessage,\n\t\t\tpass,\n\t\t};\n\t};\n\nconst createToHaveBeenCalledWith = ( matcherName, methodName ) =>\n\tfunction ( received, ...expected ) {\n\t\tconst spy = received[ methodName ];\n\t\tconst calls = spy.mock.calls;\n\t\tconst pass = calls.some( ( objects ) =>\n\t\t\tthis.equals( objects, expected )\n\t\t);\n\t\tconst message = pass\n\t\t\t? () =>\n\t\t\t\t\tmatcherHint( `.not${ matcherName }`, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function not to be called with:\\n' +\n\t\t\t\t\tprintExpected( expected )\n\t\t\t: () =>\n\t\t\t\t\tmatcherHint( matcherName, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function to be called with:\\n' +\n\t\t\t\t\tprintExpected( expected ) +\n\t\t\t\t\t'\\n' +\n\t\t\t\t\t'but it was called with:\\n' +\n\t\t\t\t\tcalls.map( printReceived );\n\n\t\tspy.assertionsNumber += 1;\n\n\t\treturn {\n\t\t\tmessage,\n\t\t\tpass,\n\t\t};\n\t};\n\nexpect.extend(\n\tObject.entries( supportedMatchers ).reduce(\n\t\t( result, [ methodName, matcherName ] ) => {\n\t\t\tconst matcherNameWith = `${ matcherName }With`;\n\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[ matcherName ]: createToHaveBeenCalledMatcher(\n\t\t\t\t\t`.${ matcherName }`,\n\t\t\t\t\tmethodName\n\t\t\t\t),\n\t\t\t\t[ matcherNameWith ]: createToHaveBeenCalledWith(\n\t\t\t\t\t`.${ matcherNameWith }`,\n\t\t\t\t\tmethodName\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t{}\n\t)\n);\n"],"mappings":";;;AAGA,IAAAA,iBAAA,GAAAC,OAAA;AAKA,IAAAC,kBAAA,GAAAC,sBAAA,CAAAF,OAAA;AARA;AACA;AACA;;AAGA;AACA;AACA;;AAGA,MAAMG,6BAA6B,GAClCA,CAAEC,WAAW,EAAEC,UAAU,KAAQC,QAAQ,IAAM;EAC9C,MAAMC,GAAG,GAAGD,QAAQ,CAAED,UAAU,CAAE;EAClC,MAAMG,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACD,KAAK;EAC5B,MAAME,IAAI,GAAGF,KAAK,CAACG,MAAM,GAAG,CAAC;EAC7B,MAAMC,OAAO,GAAGF,IAAI,GACjB,MACA,IAAAG,6BAAW,EAAG,OAAOT,WAAa,EAAC,EAAEG,GAAG,CAACO,WAAW,CAAC,CAAE,CAAC,GACxD,MAAM,GACN,mEAAmE,GACnEN,KAAK,CAACO,GAAG,CAAEC,+BAAc,CAAC,GAC1B,MACA,IAAAH,6BAAW,EAAET,WAAW,EAAEG,GAAG,CAACO,WAAW,CAAC,CAAE,CAAC,GAC7C,MAAM,GACN,sCAAsC;EAEzCP,GAAG,CAACU,gBAAgB,IAAI,CAAC;EAEzB,OAAO;IACNL,OAAO;IACPF;EACD,CAAC;AACF,CAAC;AAEF,MAAMQ,0BAA0B,GAAGA,CAAEd,WAAW,EAAEC,UAAU,KAC3D,UAAWC,QAAQ,EAAE,GAAGa,QAAQ,EAAG;EAClC,MAAMZ,GAAG,GAAGD,QAAQ,CAAED,UAAU,CAAE;EAClC,MAAMG,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACD,KAAK;EAC5B,MAAME,IAAI,GAAGF,KAAK,CAACY,IAAI,CAAIC,OAAO,IACjC,IAAI,CAACC,MAAM,CAAED,OAAO,EAAEF,QAAS,CAChC,CAAC;EACD,MAAMP,OAAO,GAAGF,IAAI,GACjB,MACA,IAAAG,6BAAW,EAAG,OAAOT,WAAa,EAAC,EAAEG,GAAG,CAACO,WAAW,CAAC,CAAE,CAAC,GACxD,MAAM,GACN,iDAAiD,GACjD,IAAAS,+BAAa,EAAEJ,QAAS,CAAC,GACzB,MACA,IAAAN,6BAAW,EAAET,WAAW,EAAEG,GAAG,CAACO,WAAW,CAAC,CAAE,CAAC,GAC7C,MAAM,GACN,6CAA6C,GAC7C,IAAAS,+BAAa,EAAEJ,QAAS,CAAC,GACzB,IAAI,GACJ,2BAA2B,GAC3BX,KAAK,CAACO,GAAG,CAAEC,+BAAc,CAAC;EAE7BT,GAAG,CAACU,gBAAgB,IAAI,CAAC;EAEzB,OAAO;IACNL,OAAO;IACPF;EACD,CAAC;AACF,CAAC;AAEFc,MAAM,CAACC,MAAM,CACZC,MAAM,CAACC,OAAO,CAAEC,0BAAkB,CAAC,CAACC,MAAM,CACzC,CAAEC,MAAM,EAAE,CAAEzB,UAAU,EAAED,WAAW,CAAE,KAAM;EAC1C,MAAM2B,eAAe,GAAI,GAAG3B,WAAa,MAAK;EAE9C,OAAO;IACN,GAAG0B,MAAM;IACT,CAAE1B,WAAW,GAAID,6BAA6B,CAC5C,IAAIC,WAAa,EAAC,EACnBC,UACD,CAAC;IACD,CAAE0B,eAAe,GAAIb,0BAA0B,CAC7C,IAAIa,eAAiB,EAAC,EACvB1B,UACD;EACD,CAAC;AACF,CAAC,EACD,CAAC,CACF,CACD,CAAC"}