{"version":3,"names":["matcherHint","printExpected","printReceived","supportedMatchers","createToHaveBeenCalledMatcher","matcherName","methodName","received","spy","calls","mock","pass","length","message","getMockName","map","assertionsNumber","createToHaveBeenCalledWith","expected","some","objects","equals","expect","extend","Object","entries","reduce","result","matcherNameWith"],"sources":["@wordpress/jest-console/src/matchers.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { matcherHint, printExpected, printReceived } from 'jest-matcher-utils';\n\n/**\n * Internal dependencies\n */\nimport supportedMatchers from './supported-matchers';\n\nconst createToHaveBeenCalledMatcher =\n\t( matcherName, methodName ) => ( received ) => {\n\t\tconst spy = received[ methodName ];\n\t\tconst calls = spy.mock.calls;\n\t\tconst pass = calls.length > 0;\n\t\tconst message = pass\n\t\t\t? () =>\n\t\t\t\t\tmatcherHint( `.not${ matcherName }`, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function not to be called but it was called with:\\n' +\n\t\t\t\t\tcalls.map( printReceived )\n\t\t\t: () =>\n\t\t\t\t\tmatcherHint( matcherName, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function to be called.';\n\n\t\tspy.assertionsNumber += 1;\n\n\t\treturn {\n\t\t\tmessage,\n\t\t\tpass,\n\t\t};\n\t};\n\nconst createToHaveBeenCalledWith = ( matcherName, methodName ) =>\n\tfunction ( received, ...expected ) {\n\t\tconst spy = received[ methodName ];\n\t\tconst calls = spy.mock.calls;\n\t\tconst pass = calls.some( ( objects ) =>\n\t\t\tthis.equals( objects, expected )\n\t\t);\n\t\tconst message = pass\n\t\t\t? () =>\n\t\t\t\t\tmatcherHint( `.not${ matcherName }`, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function not to be called with:\\n' +\n\t\t\t\t\tprintExpected( expected )\n\t\t\t: () =>\n\t\t\t\t\tmatcherHint( matcherName, spy.getMockName() ) +\n\t\t\t\t\t'\\n\\n' +\n\t\t\t\t\t'Expected mock function to be called with:\\n' +\n\t\t\t\t\tprintExpected( expected ) +\n\t\t\t\t\t'\\n' +\n\t\t\t\t\t'but it was called with:\\n' +\n\t\t\t\t\tcalls.map( printReceived );\n\n\t\tspy.assertionsNumber += 1;\n\n\t\treturn {\n\t\t\tmessage,\n\t\t\tpass,\n\t\t};\n\t};\n\nexpect.extend(\n\tObject.entries( supportedMatchers ).reduce(\n\t\t( result, [ methodName, matcherName ] ) => {\n\t\t\tconst matcherNameWith = `${ matcherName }With`;\n\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[ matcherName ]: createToHaveBeenCalledMatcher(\n\t\t\t\t\t`.${ matcherName }`,\n\t\t\t\t\tmethodName\n\t\t\t\t),\n\t\t\t\t[ matcherNameWith ]: createToHaveBeenCalledWith(\n\t\t\t\t\t`.${ matcherNameWith }`,\n\t\t\t\t\tmethodName\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t{}\n\t)\n);\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAW,EAAEC,aAAa,EAAEC,aAAa,QAAQ,oBAAoB;;AAE9E;AACA;AACA;AACA,OAAOC,iBAAiB,MAAM,sBAAsB;AAEpD,MAAMC,6BAA6B,GAClCA,CAAEC,WAAW,EAAEC,UAAU,KAAQC,QAAQ,IAAM;EAC9C,MAAMC,GAAG,GAAGD,QAAQ,CAAED,UAAU,CAAE;EAClC,MAAMG,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACD,KAAK;EAC5B,MAAME,IAAI,GAAGF,KAAK,CAACG,MAAM,GAAG,CAAC;EAC7B,MAAMC,OAAO,GAAGF,IAAI,GACjB,MACAX,WAAW,CAAG,OAAOK,WAAa,EAAC,EAAEG,GAAG,CAACM,WAAW,CAAC,CAAE,CAAC,GACxD,MAAM,GACN,mEAAmE,GACnEL,KAAK,CAACM,GAAG,CAAEb,aAAc,CAAC,GAC1B,MACAF,WAAW,CAAEK,WAAW,EAAEG,GAAG,CAACM,WAAW,CAAC,CAAE,CAAC,GAC7C,MAAM,GACN,sCAAsC;EAEzCN,GAAG,CAACQ,gBAAgB,IAAI,CAAC;EAEzB,OAAO;IACNH,OAAO;IACPF;EACD,CAAC;AACF,CAAC;AAEF,MAAMM,0BAA0B,GAAGA,CAAEZ,WAAW,EAAEC,UAAU,KAC3D,UAAWC,QAAQ,EAAE,GAAGW,QAAQ,EAAG;EAClC,MAAMV,GAAG,GAAGD,QAAQ,CAAED,UAAU,CAAE;EAClC,MAAMG,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACD,KAAK;EAC5B,MAAME,IAAI,GAAGF,KAAK,CAACU,IAAI,CAAIC,OAAO,IACjC,IAAI,CAACC,MAAM,CAAED,OAAO,EAAEF,QAAS,CAChC,CAAC;EACD,MAAML,OAAO,GAAGF,IAAI,GACjB,MACAX,WAAW,CAAG,OAAOK,WAAa,EAAC,EAAEG,GAAG,CAACM,WAAW,CAAC,CAAE,CAAC,GACxD,MAAM,GACN,iDAAiD,GACjDb,aAAa,CAAEiB,QAAS,CAAC,GACzB,MACAlB,WAAW,CAAEK,WAAW,EAAEG,GAAG,CAACM,WAAW,CAAC,CAAE,CAAC,GAC7C,MAAM,GACN,6CAA6C,GAC7Cb,aAAa,CAAEiB,QAAS,CAAC,GACzB,IAAI,GACJ,2BAA2B,GAC3BT,KAAK,CAACM,GAAG,CAAEb,aAAc,CAAC;EAE7BM,GAAG,CAACQ,gBAAgB,IAAI,CAAC;EAEzB,OAAO;IACNH,OAAO;IACPF;EACD,CAAC;AACF,CAAC;AAEFW,MAAM,CAACC,MAAM,CACZC,MAAM,CAACC,OAAO,CAAEtB,iBAAkB,CAAC,CAACuB,MAAM,CACzC,CAAEC,MAAM,EAAE,CAAErB,UAAU,EAAED,WAAW,CAAE,KAAM;EAC1C,MAAMuB,eAAe,GAAI,GAAGvB,WAAa,MAAK;EAE9C,OAAO;IACN,GAAGsB,MAAM;IACT,CAAEtB,WAAW,GAAID,6BAA6B,CAC5C,IAAIC,WAAa,EAAC,EACnBC,UACD,CAAC;IACD,CAAEsB,eAAe,GAAIX,0BAA0B,CAC7C,IAAIW,eAAiB,EAAC,EACvBtB,UACD;EACD,CAAC;AACF,CAAC,EACD,CAAC,CACF,CACD,CAAC"}