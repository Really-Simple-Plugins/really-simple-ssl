{"version":3,"file":"src_Settings_Field_js.512354ccc774258c9a0e.js","mappings":"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","sources":["webpack://really-simple-ssl/./src/Dashboard/Progress/ProgressData.js","webpack://really-simple-ssl/./src/Dashboard/TaskElement.js","webpack://really-simple-ssl/./src/LetsEncrypt/Activate.js","webpack://really-simple-ssl/./src/LetsEncrypt/Directories.js","webpack://really-simple-ssl/./src/LetsEncrypt/DnsVerification.js","webpack://really-simple-ssl/./src/LetsEncrypt/Generation.js","webpack://really-simple-ssl/./src/LetsEncrypt/Installation.js","webpack://really-simple-ssl/./src/LetsEncrypt/LetsEncrypt.js","webpack://really-simple-ssl/./src/Modal/ModalControl.js","webpack://really-simple-ssl/./src/Onboarding/Onboarding.js","webpack://really-simple-ssl/./src/Settings/Button.js","webpack://really-simple-ssl/./src/Settings/CheckboxControl.js","webpack://really-simple-ssl/./src/Settings/Field.js","webpack://really-simple-ssl/./src/Settings/Host.js","webpack://really-simple-ssl/./src/Settings/LearningMode/ChangeStatus.js","webpack://really-simple-ssl/./src/Settings/LearningMode/Delete.js","webpack://really-simple-ssl/./src/Settings/LearningMode/LearningMode.js","webpack://really-simple-ssl/./src/Settings/LearningMode/LearningModeData.js","webpack://really-simple-ssl/./src/Settings/License/License.js","webpack://really-simple-ssl/./src/Settings/MixedContentScan/MixedContentData.js","webpack://really-simple-ssl/./src/Settings/MixedContentScan/MixedContentScan.js","webpack://really-simple-ssl/./src/Settings/Password.js","webpack://really-simple-ssl/./src/Settings/PermissionsPolicy.js","webpack://really-simple-ssl/./src/Settings/PostDropDown.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/NotificationTester.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/RiskComponent.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/RiskData.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/Runner.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/RunnerData.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/VulnerabilitiesIntro.js","webpack://really-simple-ssl/./src/Settings/RiskConfiguration/vulnerabilitiesOverview.js","webpack://really-simple-ssl/./src/Settings/SelectControl.js","webpack://really-simple-ssl/./src/Settings/Support.js"],"sourcesContent":["import {create} from 'zustand';\r\nimport * as rsssl_api from \"../../utils/api\";\r\nconst useProgress = create(( set, get ) => ({\r\n    filter:'all',\r\n    progressText:'',\r\n    notices: [],\r\n    error:false,\r\n    percentageCompleted:0,\r\n    progressLoaded:false,\r\n    setFilter: (filter) => {\r\n        sessionStorage.rsssl_task_filter = filter;\r\n\r\n        set(state => ({ filter }))\r\n    },\r\n    fetchFilter: () => {\r\n        if ( typeof (Storage) !== \"undefined\" && sessionStorage.rsssl_task_filter  ) {\r\n            let filter = sessionStorage.rsssl_task_filter;\r\n            set(state => ({ filter:filter }))\r\n\r\n        }\r\n    },\r\n    getProgressData: async () => {\r\n        const {percentage, text, notices, error } = await rsssl_api.runTest('progressData', 'refresh').then( ( response ) => {\r\n            return response;\r\n        });\r\n\r\n        set(state => ({\r\n            notices:notices,\r\n            percentageCompleted:percentage,\r\n            progressText:text,\r\n            progressLoaded:true,\r\n            error:error,\r\n        }))\r\n    },\r\n    dismissNotice: async (noticeId) => {\r\n        let notices = get().notices;\r\n        notices = notices.filter(function (notice) {\r\n            return notice.id !== noticeId;\r\n        });\r\n        set(state => ({ notices:notices }))\r\n        const {percentage} = await rsssl_api.runTest('dismiss_task', noticeId);\r\n        set({ percentageCompleted:percentage })\r\n    }\r\n}));\r\n\r\nexport default useProgress;\r\n\r\n","import { __ } from '@wordpress/i18n';\r\nimport Icon from '../utils/Icon'\r\nimport {dispatch,} from '@wordpress/data';\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport sleeper from \"../utils/sleeper\";\r\nimport useFields from \"../Settings/FieldsData\";\r\nimport useProgress from \"./Progress/ProgressData\";\r\nimport useMenu from \"../Menu/MenuData\";\r\n\r\nconst TaskElement = (props) => {\r\n    const {dismissNotice} = useProgress();\r\n    const {getField, setHighLightField, fetchFieldsData} = useFields();\r\n    const {setSelectedSubMenuItem} = useMenu();\r\n\r\n    const handleClick = async () => {\r\n        setHighLightField(props.notice.output.highlight_field_id);\r\n        let highlightField = getField(props.notice.output.highlight_field_id);\r\n        await setSelectedSubMenuItem(highlightField.menu_id);\r\n    }\r\n\r\n    const handleClearCache = (cache_id) => {\r\n        let data = {};\r\n        data.cache_id = cache_id;\r\n        rsssl_api.doAction('clear_cache', data).then( ( response ) => {\r\n            const notice = dispatch('core/notices').createNotice(\r\n                'success',\r\n                __( 'Re-started test', 'really-simple-ssl' ),\r\n                {\r\n                    __unstableHTML: true,\r\n                    id: 'rsssl_clear_cache',\r\n                    type: 'snackbar',\r\n                    isDismissible: true,\r\n                }\r\n            ).then(sleeper(3000)).then(( response ) => {\r\n                dispatch('core/notices').removeNotice('rsssl_clear_cache');\r\n            });\r\n            fetchFieldsData();\r\n        });\r\n    }\r\n\r\n    let notice = props.notice;\r\n    let premium = notice.output.icon==='premium';\r\n    //treat links to rsssl.com and internal links different.\r\n    let urlIsExternal = notice.output.url && notice.output.url.indexOf('really-simple-ssl.com') !== -1;\r\n    return(\r\n        <div className=\"rsssl-task-element\">\r\n            <span className={'rsssl-task-status rsssl-' + notice.output.icon}>{ notice.output.label }</span>\r\n            <p className=\"rsssl-task-message\" dangerouslySetInnerHTML={{__html: notice.output.msg}}></p>\r\n            {urlIsExternal && notice.output.url && <a target=\"_blank\" href={notice.output.url}>{__(\"More info\", \"really-simple-ssl\")}</a> }\r\n            {notice.output.clear_cache_id && <span className=\"rsssl-task-enable button button-secondary\" onClick={ () => handleClearCache(notice.output.clear_cache_id ) }>{__(\"Re-check\", \"really-simple-ssl\")}</span> }\r\n            {!premium && !urlIsExternal && notice.output.url && <a className=\"rsssl-task-enable button button-secondary\" href={notice.output.url}>{__(\"View\", \"really-simple-ssl\")}</a> }\r\n            {!premium && notice.output.highlight_field_id && <span className=\"rsssl-task-enable button button-secondary\" onClick={() => handleClick()}>{__(\"View\", \"really-simple-ssl\")}</span> }\r\n            {notice.output.plusone && <span className='rsssl-plusone'>1</span>}\r\n            {notice.output.dismissible && notice.output.status!=='completed' &&\r\n                <div className=\"rsssl-task-dismiss\">\r\n                  <button type='button' onClick={(e) => dismissNotice(notice.id) }>\r\n                         <Icon name='times' />\r\n                  </button>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TaskElement;","import Onboarding from \"../Onboarding/Onboarding\";\r\n\r\nconst Activate = () => {\r\n    return (\r\n        <div className=\"rsssl-lets-encrypt-tests\">\r\n            <Onboarding/>\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Activate;","import {__} from '@wordpress/i18n';\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport {dispatch} from '@wordpress/data';\r\nimport {useUpdateEffect} from 'react-use';\r\nimport sleeper from \"../utils/sleeper\";\r\nimport Hyperlink from \"../utils/Hyperlink\";\r\nimport {\r\n    Button,\r\n} from '@wordpress/components';\r\nimport useFields from \"../Settings/FieldsData\";\r\nimport useMenu from \"../Menu/MenuData\";\r\n\r\nconst Directories = (props) => {\r\n    const {addHelpNotice, updateField, setChangedField, saveFields, fetchFieldsData} = useFields();\r\n    const { setSelectedSubMenuItem} = useMenu();\r\n\r\n    let action = props.action;\r\n\r\n    useUpdateEffect(() => {\r\n        if ((action && action.action === 'challenge_directory_reachable' && action.status === 'error')) {\r\n            addHelpNotice(\r\n                props.field.id,\r\n                'default',\r\n                __(\"The challenge directory is used to verify the domain ownership.\", \"really-simple-ssl\"),\r\n            );\r\n        }\r\n\r\n        if ((action && action.action === 'check_key_directory' && action.status === 'error')) {\r\n            addHelpNotice(\r\n                props.field.id,\r\n                'default',\r\n                __(\"The key directory is needed to store the generated keys.\", \"really-simple-ssl\") + ' ' + __(\"By placing it outside the root folder, it is not publicly accessible.\", \"really-simple-ssl\"),\r\n            );\r\n        }\r\n\r\n        if ((action && action.action === 'check_certs_directory' && action.status === 'error')) {\r\n            addHelpNotice(\r\n                props.field.id,\r\n                'default',\r\n                __(\"The certificate will get stored in this directory.\", \"really-simple-ssl\") + ' ' + __(\"By placing it outside the root folder, it is not publicly accessible.\", \"really-simple-ssl\"),\r\n            );\r\n        }\r\n    });\r\n\r\n\r\n    if ( !action ) {\r\n        return (<></>);\r\n    }\r\n\r\n    const handleSwitchToDNS = async () => {\r\n        updateField('verification_type', 'dns');\r\n        setChangedField('verification_type', 'dns');\r\n        await saveFields(true, true);\r\n        await rsssl_api.runLetsEncryptTest('update_verification_type', 'dns').then((response) => {\r\n\r\n            const notice = dispatch('core/notices').createNotice(\r\n                'success',\r\n                __('Switched to DNS', 'really-simple-ssl'),\r\n                {\r\n                    __unstableHTML: true,\r\n                    id: 'rsssl_switched_to_dns',\r\n                    type: 'snackbar',\r\n                    isDismissible: true,\r\n                }\r\n            ).then(sleeper(3000)).then((response) => {\r\n                dispatch('core/notices').removeNotice('rsssl_switched_to_dns');\r\n            });\r\n        });\r\n        await setSelectedSubMenuItem('le-dns-verification');\r\n        await fetchFieldsData('le-directories');\r\n    }\r\n\r\n    return (\r\n        <div className=\"rsssl-test-results\">\r\n            {action.status === 'error' && <h4>{__(\"Next step\", \"really-simple-ssl\")}</h4>}\r\n\r\n            {(action.status === 'error' && action.action === 'challenge_directory_reachable') &&\r\n                <div>\r\n                    <p>\r\n                        {__(\"If the challenge directory cannot be created, or is not reachable, you can either remove the server limitation, or change to DNS verification.\", \"really-simple-ssl\")}\r\n                    </p>\r\n                    <Button\r\n                        variant=\"secondary\"\r\n                        onClick={() => handleSwitchToDNS()}\r\n                    >\r\n                        {__('Switch to DNS verification', 'really-simple-ssl')}\r\n                    </Button>\r\n                </div>\r\n            }\r\n            {rsssl_settings.hosting_dashboard === 'cpanel' &&\r\n                <><p>\r\n                    <Hyperlink target=\"_blank\"\r\n                               text={__(\"If you also want to secure subdomains like mail.domain.com, cpanel.domain.com, you have to use the %sDNS%s challenge.\", \"really-simple-ssl\")}\r\n                               url=\"https://really-simple-ssl.com/lets-encrypt-authorization-with-dns\"/>\r\n                    &nbsp;{__(\"Please note that auto-renewal with a DNS challenge might not be possible.\", \"really-simple-ssl\")}\r\n                </p>\r\n                    <Button\r\n                        variant=\"secondary\"\r\n                        onClick={() => handleSwitchToDNS()}\r\n                    >{__('Switch to DNS verification', 'really-simple-ssl')}</Button></>\r\n            }\r\n            {(action.status === 'error' && action.action === 'check_challenge_directory') &&\r\n                <div>\r\n                    <h4>\r\n                        {__(\"Create a challenge directory\", \"really-simple-ssl\")}\r\n                    </h4>\r\n                    <p>\r\n                        {__(\"Navigate in FTP or File Manager to the root of your WordPress installation:\", \"really-simple-ssl\")}\r\n                    </p>\r\n                    <ul>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Create a folder called .well-known', 'really-simple-ssl')}\r\n                        </li>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Inside the folder called .well-known create a new folder called acme-challenge, with 644 writing permissions.', 'really-simple-ssl')}\r\n                        </li>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Click the refresh button.', 'really-simple-ssl')}\r\n                        </li>\r\n                    </ul>\r\n                    <h4>\r\n                        {__(\"Or you can switch to DNS verification\", \"really-simple-ssl\")}\r\n                    </h4>\r\n                    <p>{__(\"If the challenge directory cannot be created, you can either remove the server limitation, or change to DNS verification.\", \"really-simple-ssl\")}</p>\r\n                    <Button\r\n                        variant=\"secondary\"\r\n                        onClick={() => handleSwitchToDNS()}\r\n                    >\r\n                        {__('Switch to DNS verification', 'really-simple-ssl')}\r\n                    </Button>\r\n                </div>\r\n            }\r\n\r\n            {(action.status === 'error' && action.action === 'check_key_directory') &&\r\n                <div>\r\n                    <h4>\r\n                        {__(\"Create a key directory\", \"really-simple-ssl\")}\r\n                    </h4>\r\n                    <p>\r\n                        {__(\"Navigate in FTP or File Manager to one level above the root of your WordPress installation:\", \"really-simple-ssl\")}\r\n                    </p>\r\n                    <ul>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Create a folder called ssl', 'really-simple-ssl')}\r\n                        </li>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Inside the folder called ssl create a new folder called keys, with 644 writing permissions.', 'really-simple-ssl')}\r\n                        </li>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Click the refresh button.', 'really-simple-ssl')}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            }\r\n\r\n            {(action.status === 'error' && action.action === 'check_certs_directory') &&\r\n                <div>\r\n                    <h4>\r\n                        {__(\"Create a certs directory\", \"really-simple-ssl\")}\r\n                    </h4>\r\n                    <p>\r\n                        {__(\"Navigate in FTP or File Manager to one level above the root of your WordPress installation:\", \"really-simple-ssl\")}\r\n                    </p>\r\n                    <ul>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Create a folder called ssl', 'really-simple-ssl')}\r\n                        </li>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Inside the folder called ssl create a new folder called certs, with 644 writing permissions.', 'really-simple-ssl')}\r\n                        </li>\r\n                        <li className=\"rsssl-tooltip-icon dashicons-before rsssl-icon arrow-right-alt2 dashicons-arrow-right-alt2\">\r\n                            {__('Click the refresh button.', 'really-simple-ssl')}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Directories;","import {useState, useEffect} from \"@wordpress/element\";\r\nimport { __ } from '@wordpress/i18n';\r\nimport {dispatch} from '@wordpress/data';\r\nimport Hyperlink from \"../utils/Hyperlink\";\r\nimport {useUpdateEffect} from 'react-use';\r\nimport {\r\n    Button,\r\n} from '@wordpress/components';\r\nimport useFields from \"../Settings/FieldsData\";\r\nimport useMenu from \"../Menu/MenuData\";\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport sleeper from \"../utils/sleeper\";\r\n\r\nconst DnsVerification = (props) => {\r\n    const {fields, addHelpNotice, updateField, setChangedField, saveFields, fetchFieldsData, getFieldValue} = useFields();\r\n    const {selectedSubMenuItem, setSelectedSubMenuItem} = useMenu();\r\n    const [tokens, setTokens] = useState(false);\r\n    let action = props.action;\r\n\r\n     useUpdateEffect(()=> {\r\n        if (action && action.action==='challenge_directory_reachable' && action.status==='error') {\r\n            addHelpNotice(\r\n                props.field.id,\r\n                 'default',\r\n                __(\"The challenge directory is used to verify the domain ownership.\", \"really-simple-ssl\"),\r\n            );\r\n        }\r\n         let newTokens = action ? action.output : false;\r\n         if ( typeof (newTokens) === \"undefined\" || newTokens.length === 0 ) {\r\n             newTokens = false;\r\n         }\r\n         if ( newTokens ) {\r\n             setTokens(newTokens);\r\n         }\r\n     });\r\n\r\n    const handleSwitchToDir = async () => {\r\n        await setSelectedSubMenuItem('le-directories');\r\n        await updateField('verification_type', 'dir');\r\n        await setChangedField('verification_type', 'dir');\r\n        await saveFields(true, true);\r\n        await rsssl_api.runLetsEncryptTest('update_verification_type', 'dir').then((response) => {\r\n            const notice = dispatch('core/notices').createNotice(\r\n                'success',\r\n                __('Switched to Directory', 'really-simple-ssl'),\r\n                {\r\n                    __unstableHTML: true,\r\n                    id: 'rsssl_switched_to_dns',\r\n                    type: 'snackbar',\r\n                    isDismissible: true,\r\n                }\r\n            ).then(sleeper(3000)).then((response) => {\r\n                dispatch('core/notices').removeNotice('rsssl_switched_to_dns');\r\n            });\r\n        });\r\n        await fetchFieldsData('le-directories');\r\n    }\r\n\r\n    const handleSwitchToDNS = async () => {\r\n\r\n        await rsssl_api.runLetsEncryptTest('update_verification_type', 'dns').then((response) => {\r\n\r\n            const notice = dispatch('core/notices').createNotice(\r\n                'success',\r\n                __('Switched to DNS', 'really-simple-ssl'),\r\n                {\r\n                    __unstableHTML: true,\r\n                    id: 'rsssl_switched_to_dns',\r\n                    type: 'snackbar',\r\n                    isDismissible: true,\r\n                }\r\n            ).then(sleeper(3000)).then((response) => {\r\n                dispatch('core/notices').removeNotice('rsssl_switched_to_dns');\r\n            });\r\n        });\r\n        await setSelectedSubMenuItem('le-dns-verification');\r\n    }\r\n\r\n\r\n    let verificationType = getFieldValue('verification_type');\r\n    if (verificationType==='dir') {\r\n        return (<></>);\r\n    }\r\n\r\n    return (\r\n        <>\r\n           { tokens && tokens.length>0 &&\r\n                <div className=\"rsssl-test-results\">\r\n                    <h4>{__(\"Next step\", \"really-simple-ssl\")}</h4>\r\n                    <p>{__(\"Add the following token as text record to your DNS records. We recommend to use a short TTL during installation, in case you need to change it.\", \"really-simple-ssl\")}\r\n                        <Hyperlink target=\"_blank\" text={__(\"Read more\", \"really-simple-ssl\")}\r\n                                   url=\"https://really-simple-ssl.com/how-to-add-a-txt-record-to-dns\"/>\r\n                    </p>\r\n                    <div  className=\"rsssl-dns-text-records\">\r\n                        <div>\r\n                            <div className=\"rsssl-dns-domain\">@/{__(\"domain\", \"really-simple-ssl\")}</div>\r\n                            <div className=\"rsssl-dns-field\">{__(\"Value\", \"really-simple-ssl\")}</div>\r\n                        </div>\r\n                        { tokens.map((tokenData, i) =>\r\n                            <div>\r\n                                <div className=\"rsssl-dns-\">_acme-challenge.{tokenData.domain}</div>\r\n                                <div className=\"rsssl-dns-field rsssl-selectable\">{tokenData.token}</div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            <div className=\"rsssl-test-results\">\r\n                <p>{__(\"DNS verification active. You can switch back to directory verification here.\",\"really-simple-ssl\")}</p>\r\n                <Button\r\n                    variant=\"secondary\"\r\n                    onClick={() => handleSwitchToDir()}\r\n                >{ __( 'Switch to directory verification', 'really-simple-ssl' ) }</Button>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DnsVerification;","import { __ } from '@wordpress/i18n';\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport {dispatch,} from '@wordpress/data';\r\nimport sleeper from \"../utils/sleeper\";\r\nimport Hyperlink from \"../utils/Hyperlink\";\r\n\r\nimport {\r\n    Button,\r\n} from '@wordpress/components';\r\nimport useFields from \"../Settings/FieldsData\";\r\n\r\nconst Generation = (props) => {\r\n    let action = props.action;\r\n\r\n    if (!action) {\r\n        return (<></>);\r\n    }\r\n\r\n    const handleSkipDNS = () => {\r\n        return rsssl_api.runLetsEncryptTest('skip_dns_check').then( ( response ) => {\r\n            props.restartTests();\r\n            const notice = dispatch('core/notices').createNotice(\r\n                'success',\r\n                __( 'Skip DNS verification', 'really-simple-ssl' ),\r\n                {\r\n                    __unstableHTML: true,\r\n                    id: 'rsssl_skip_dns',\r\n                    type: 'snackbar',\r\n                    isDismissible: true,\r\n                }\r\n            ).then(sleeper(3000)).then(( response ) => {\r\n                dispatch('core/notices').removeNotice('rsssl_skip_dns');\r\n            });\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"rsssl-test-results\">\r\n            { (action.status === 'error' && action.action==='verify_dns' ) &&\r\n                <>\r\n                    <p>{ __(\"We could not check the DNS records. If you just added the record, please check in a few minutes.\",\"really-simple-ssl\")}&nbsp;\r\n                                    <Hyperlink target=\"_blank\" text={__(\"You can manually check the DNS records in an %sonline tool%s.\",\"really-simple-ssl\")}\r\n                                    url=\"https://mxtoolbox.com/SuperTool.aspx\"/>\r\n                        { __(\"If you're sure it's set correctly, you can click the button to skip the DNS check.\",\"really-simple-ssl\")}&nbsp;\r\n                    </p>\r\n                    <Button\r\n                        variant=\"secondary\"\r\n                        onClick={() => handleSkipDNS()}\r\n                        >\r\n                        { __( 'Skip DNS check', 'really-simple-ssl' ) }\r\n                    </Button>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Generation;","import {useState} from \"@wordpress/element\";\r\nimport { __ } from '@wordpress/i18n';\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport {dispatch,} from '@wordpress/data';\r\nimport {useUpdateEffect} from 'react-use';\r\nimport sleeper from \"../utils/sleeper\";\r\nimport useFields from \"../Settings/FieldsData\";\r\n\r\nconst Installation = (props) => {\r\n    const {addHelpNotice} = useFields();\r\n\r\n    const [installationData, setInstallationData] = useState(false);\r\n    let action = props.action;\r\n\r\n     useUpdateEffect(()=> {\r\n        if ((action && action.status==='warning' && installationData && installationData.generated_by_rsssl )) {\r\n            addHelpNotice(\r\n                props.field.id,\r\n                 'default',\r\n                 __(\"This is the certificate, which you need to install in your hosting dashboard.\", \"really-simple-ssl\"),\r\n                 __(\"Certificate (CRT)\", \"really-simple-ssl\")\r\n              );\r\n\r\n              addHelpNotice(\r\n                props.field.id,\r\n                 'default',\r\n                 __(\"The private key can be uploaded or pasted in the appropriate field on your hosting dashboard.\", \"really-simple-ssl\"),\r\n                 __(\"Private Key (KEY)\", \"really-simple-ssl\")\r\n              );\r\n\r\n              addHelpNotice(\r\n                props.field.id,\r\n                 'default',\r\n                 __(\"The CA Bundle will sometimes be automatically detected. If not, you can use this file.\", \"really-simple-ssl\"),\r\n                 __(\"Certificate Authority Bundle (CABUNDLE)\", \"really-simple-ssl\")\r\n              );\r\n        }\r\n\r\n        if ( action && (action.status==='error' || action.status === 'warning') ) {\r\n            rsssl_api.runLetsEncryptTest('installation_data').then( ( response ) => {\r\n                if (response) {\r\n                    setInstallationData(response.output);\r\n                }\r\n            });\r\n        }\r\n\r\n     });\r\n\r\n\r\n    const handleCopyAction = (type) => {\r\n        let success;\r\n        let data = document.querySelector('.rsssl-'+type).innerText;\r\n\r\n        const el = document.createElement('textarea');\r\n        el.value = data;\t//str is your string to copy\r\n        document.body.appendChild(el);\r\n        el.select();\r\n        try {\r\n            success = document.execCommand(\"copy\");\r\n        } catch (e) {\r\n            success = false;\r\n        }\r\n        document.body.removeChild(el);\r\n        const notice = dispatch('core/notices').createNotice(\r\n            'success',\r\n            __( 'Copied!', 'really-simple-ssl' ),\r\n            {\r\n                __unstableHTML: true,\r\n                id: 'rsssl_copied_data',\r\n                type: 'snackbar',\r\n                isDismissible: true,\r\n            }\r\n        ).then(sleeper(3000)).then(( response ) => {\r\n            dispatch('core/notices').removeNotice('rsssl_copied_data');\r\n        });\r\n    }\r\n\r\n    if ( !action ) {\r\n        return (<></>);\r\n    }\r\n\r\n\r\n    if (!installationData) {\r\n        return (<></>);\r\n    }\r\n    return (\r\n        <div className=\"rsssl-test-results\">\r\n            { !installationData.generated_by_rsssl && <>{__(\"The certificate is not generated by Really Simple SSL, so there are no installation files here\",\"really-simple-ssl\")}</>}\r\n\r\n            { installationData.generated_by_rsssl && action.status === 'warning' &&\r\n                <>\r\n                <h4>{ __(\"Next step\", \"really-simple-ssl\") }</h4>\r\n                    <div className=\"rsssl-template-intro\">{ __(\"Install your certificate.\", \"really-simple-ssl\")}</div>\r\n                    <h4>{ __(\"Certificate (CRT)\", \"really-simple-ssl\") }</h4>\r\n                    <div className=\"rsssl-certificate-data rsssl-certificate\" id=\"rsssl-certificate\">{installationData.certificate_content}</div>\r\n                    <a href={installationData.download_url+\"&type=certificate\"} className=\"button button-secondary\">{ __(\"Download\", \"really-simple-ssl\")}</a>\r\n                    <button type=\"button\" onClick={(e) => handleCopyAction('certificate')} className=\"button button-primary\">{ __(\"Copy content\", \"really-simple-ssl\")}</button>\r\n\r\n                    <h4>{ __(\"Private Key (KEY)\", \"really-simple-ssl\") }</h4>\r\n                    <div className=\"rsssl-certificate-data rsssl-key\" id=\"rsssl-key\">{installationData.key_content}</div>\r\n                    <a href={installationData.download_url+\"&type=private_key\"} className=\"button button-secondary\">{ __(\"Download\", \"really-simple-ssl\")}</a>\r\n                    <button type=\"button\" className=\"button button-primary\" onClick={(e) => handleCopyAction('key')} >{ __(\"Copy content\", \"really-simple-ssl\")}</button>\r\n                    <h4>{ __(\"Certificate Authority Bundle (CABUNDLE)\", \"really-simple-ssl\") }</h4>\r\n                    <div className=\"rsssl-certificate-data rsssl-cabundle\" id=\"rsssl-cabundle\">{installationData.ca_bundle_content}</div>\r\n                    <a href={installationData.download_url+\"&type=intermediate\"} className=\"button button-secondary\">{ __(\"Download\", \"really-simple-ssl\")}</a>\r\n                    <button type=\"button\" className=\"button button-primary\" onClick={(e) => handleCopyAction('cabundle')} >{ __(\"Copy content\", \"really-simple-ssl\")}</button>\r\n                </>\r\n             }\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Installation;","import {useEffect, useRef} from \"@wordpress/element\";\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport sleeper from \"../utils/sleeper\";\r\nimport Directories from \"./Directories\";\r\nimport DnsVerification from \"./DnsVerification\";\r\nimport Generation from \"./Generation\";\r\nimport Activate from \"./Activate\";\r\nimport Installation from \"./Installation\";\r\nimport { __ } from '@wordpress/i18n';\r\nimport Icon from \"../utils/Icon\";\r\nimport useFields from \"../Settings/FieldsData\";\r\nimport useLetsEncryptData from \"./letsEncryptData\";\r\n\r\nconst LetsEncrypt = (props) => {\r\n    const {handleNextButtonDisabled, getFieldValue} = useFields();\r\n    const {actionsList, setActionsList, setActionsListItem, setActionsListProperty, actionIndex, setActionIndex, attemptCount, setAttemptCount, progress, setProgress, refreshTests, setRefreshTests} = useLetsEncryptData();\r\n    const sleep = useRef(1000);\r\n    const intervalId = useRef(false);\r\n    const previousActionIndex = useRef(-1);\r\n    const maxIndex = useRef(1);\r\n    const refProgress = useRef(0);\r\n    const lastAction = useRef({});\r\n\r\n    useEffect(() => {\r\n        reset();\r\n   }, [props.field.id])\r\n\r\n    const getActions = () => {\r\n        let propActions = props.field.actions;\r\n        if ( props.field.id==='generation' ) {\r\n            propActions = adjustActionsForDNS(propActions);\r\n        }\r\n\r\n        maxIndex.current = propActions.length;\r\n        return propActions;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if ( actionsList.length>0 && actionIndex===-1){\r\n            setActionIndex(0);\r\n            runTest(0, 0);\r\n        }\r\n    }, [actionsList])\r\n\r\n    useEffect(() => {\r\n        // startInterval();\r\n    }, [])\r\n\r\n    const startInterval = () => {\r\n        intervalId.current = setInterval(() => {\r\n            if (refProgress.current<100) {\r\n                setProgress(refProgress.current + 0.2);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    useEffect(() => {\r\n        previousActionIndex.current = actionIndex;\r\n        setProgress( ( 100 / maxIndex.current ) * (actionIndex));\r\n\r\n        //ensure that progress does not get to 100 when retries are still running\r\n        let currentAction = actionsList[actionIndex];\r\n        if ( currentAction && currentAction.do==='retry' && attemptCount>1 ){\r\n            setProgress(90);\r\n        }\r\n\r\n       }, [actionIndex ])\r\n\r\n    useEffect (() => {\r\n        refProgress.current = progress;\r\n    },[progress])\r\n\r\n    useEffect(() => {\r\n        if ( refreshTests ){\r\n            setRefreshTests(false);\r\n            reset();\r\n            actionsList.forEach(function(action,i){\r\n                setActionsListProperty(i, 'status', 'inactive');\r\n            });\r\n        }\r\n    }, [refreshTests ])\r\n\r\n    const statuses = {\r\n        'inactive': {\r\n            'icon': 'circle-times',\r\n            'color': 'grey',\r\n        },\r\n        'warning': {\r\n            'icon': 'circle-times',\r\n            'color': 'orange',\r\n        },\r\n        'error': {\r\n            'icon': 'circle-times',\r\n            'color': 'red',\r\n        },\r\n        'success': {\r\n            'icon': 'circle-check',\r\n            'color': 'green',\r\n        },\r\n    };\r\n\r\n    const reset = () => {\r\n        // clearInterval(intervalId.current);\r\n        // startInterval();\r\n        handleNextButtonDisabled(true);\r\n        setActionsList(getActions());\r\n        setProgress(0);\r\n        refProgress.current = 0;\r\n        setActionIndex(-1);\r\n        previousActionIndex.current = -1;\r\n     }\r\n\r\n    const adjustActionsForDNS = (actions) => {\r\n        //find verification_type\r\n        let verification_type = getFieldValue('verification_type');\r\n        if ( !verification_type ) verification_type = 'dir';\r\n\r\n        if ( verification_type==='dns' ) {\r\n            //check if dns verification already is added\r\n            let dnsVerificationAdded = false;\r\n            actions.forEach(function(action, i) {\r\n                if (action.action===\"verify_dns\"){\r\n                    dnsVerificationAdded = true;\r\n                }\r\n            });\r\n\r\n            //find bundle index\r\n            let create_bundle_index = -1;\r\n            actions.forEach(function(action, i) {\r\n                if (action.action===\"create_bundle_or_renew\"){\r\n                    create_bundle_index = i;\r\n                }\r\n            });\r\n\r\n            if (!dnsVerificationAdded && create_bundle_index>0) {\r\n                //store create bundle action\r\n                let actionsCopy = [...actions];\r\n                let createBundleAction = actionsCopy[create_bundle_index];\r\n                //overwrite create bundle action\r\n                let newAction = {};\r\n                newAction.action = 'verify_dns';\r\n                newAction.description = __(\"Verifying DNS records...\", \"really-simple-ssl\");\r\n                newAction.attempts = 2;\r\n                actionsCopy[create_bundle_index] = newAction;\r\n                actionsCopy.push(createBundleAction);\r\n                actions = actionsCopy;\r\n            }\r\n        }\r\n        return actions;\r\n    }\r\n\r\n    const processTestResult = async (action, newActionIndex) => {\r\n        // clearInterval(intervalId.current);\r\n\r\n        if ( action.status==='success' ) {\r\n            setAttemptCount(0);\r\n        } else {\r\n            if (!Number.isInteger(action.attemptCount)) {\r\n                setAttemptCount(0);\r\n            }\r\n            setAttemptCount(attemptCount+1);\r\n        }\r\n\r\n        //used for dns verification actions\r\n        let event = new CustomEvent('rsssl_le_response', { detail: action });\r\n        document.dispatchEvent(event);\r\n        //if all tests are finished with success\r\n        //finalize happens when halfway through our tests it's finished. We can skip all others.\r\n        if ( action.do === 'finalize' ) {\r\n            actionsList.forEach(function(action,i){\r\n                if (i>newActionIndex) {\r\n                    setActionsListProperty(i, 'hide', true);\r\n                }\r\n            });\r\n            setActionIndex(maxIndex.current+1);\r\n            handleNextButtonDisabled(false);\r\n        } else if ( action.do === 'continue' || action.do === 'skip' ) {\r\n            //new action, so reset the attempts count\r\n            setAttemptCount(1);\r\n            //skip:  drop previous completely, skip to next.\r\n            if ( action.do === 'skip' ) {\r\n                setActionsListProperty(newActionIndex, 'hide', true);\r\n            }\r\n            //move to next action, but not if we're already on the max\r\n            if ( maxIndex.current-1 > newActionIndex) {\r\n                setActionIndex(newActionIndex+1);\r\n                await runTest(newActionIndex+1);\r\n            } else {\r\n                setActionIndex(newActionIndex+1);\r\n                handleNextButtonDisabled(false);\r\n\r\n            }\r\n        } else if (action.do === 'retry' ) {\r\n            if ( attemptCount >= action.attempts ) {\r\n                setActionIndex(maxIndex.current);\r\n            } else {\r\n                setActionIndex(newActionIndex);\r\n                await runTest(newActionIndex);\r\n            }\r\n        } else if ( action.do === 'stop' ){\r\n            setActionIndex(maxIndex.current);\r\n        }\r\n    }\r\n\r\n    const runTest = async (newActionIndex) => {\r\n        let currentAction = {...actionsList[newActionIndex]};\r\n        if (!currentAction) return;\r\n        let  test = currentAction.action;\r\n        const startTime = new Date();\r\n        await rsssl_api.runLetsEncryptTest(test, props.field.id ).then( ( response ) => {\r\n            const endTime = new Date();\r\n            let timeDiff = endTime - startTime; //in ms\r\n            const elapsedTime = Math.round(timeDiff);\r\n            currentAction.status = response.status ? response.status : 'inactive';\r\n            currentAction.hide = false;\r\n            currentAction.description = response.message;\r\n            currentAction.do = response.action;\r\n            currentAction.output = response.output ? response.output : false;\r\n            sleep.current = 500;\r\n            if (elapsedTime<1500) {\r\n               sleep.current = 1500-elapsedTime;\r\n            }\r\n            setActionsListItem(newActionIndex, currentAction);\r\n        }).then(sleeper(sleep.current)).then( () => {\r\n            processTestResult(currentAction, newActionIndex);\r\n      });\r\n    }\r\n\r\n    const getStyles = (newProgress) => {\r\n        return Object.assign(\r\n            {},\r\n            {width: newProgress+\"%\"},\r\n        );\r\n    }\r\n\r\n    const getStatusIcon = (action) => {\r\n        if (!statuses.hasOwnProperty(action.status)) {\r\n            return statuses['inactive'].icon;\r\n        }\r\n        return statuses[action.status].icon\r\n    }\r\n\r\n    const getStatusColor = (action) => {\r\n        if (!statuses.hasOwnProperty(action.status)) {\r\n            return statuses['inactive'].color;\r\n        }\r\n        return statuses[action.status].color;\r\n    }\r\n\r\n    if ( !props.field.actions ) {\r\n        return (<></>);\r\n    }\r\n\r\n    let progressCopy = progress;\r\n    if (maxIndex.current === actionIndex+1 ){\r\n        progressCopy = 100;\r\n    }\r\n\r\n    //filter out skipped actions\r\n    let actionsOutput = actionsList.filter(action => action.hide !== true);\r\n    //ensure the sub components have an action to look at, also if the action has been dropped after last test.\r\n    let action = actionsList[actionIndex];\r\n    if (action){\r\n        lastAction.current = action;\r\n    } else {\r\n        action = lastAction.current;\r\n    }\r\n    let progressBarColor = action.status==='error' ? 'rsssl-orange' : '';\r\n    return (\r\n        <>\r\n            <div className=\"rsssl-lets-encrypt-tests\">\r\n                <div className=\"rsssl-progress-bar\"><div className=\"rsssl-progress\"><div className={'rsssl-bar ' + progressBarColor} style={getStyles(progressCopy)}></div></div></div>\r\n                <div className=\"rsssl_letsencrypt_container rsssl-progress-container field-group\">\r\n                    <ul>\r\n                       {actionsOutput.map((action, i) =>\r\n                              <li key={\"action-\"+i}>\r\n                                  <Icon name = {getStatusIcon(action)} color = {getStatusColor(action)} />\r\n                                        {action.do==='retry' && attemptCount >=1 && <>{__(\"Attempt %s.\", \"really-simple-ssl\").replace('%s', attemptCount)} </>}\r\n                                        &nbsp;\r\n                                        <span dangerouslySetInnerHTML={{__html:action.description}}></span>\r\n                                    </li>\r\n\r\n                            )\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                {props.field.id === 'directories' && <Directories field={props.field} action={action}/> }\r\n                {props.field.id === 'dns-verification' && <DnsVerification field={props.field} action={action}/> }\r\n                {props.field.id === 'generation' && <Generation field={props.field} action={action}/> }\r\n                {props.field.id === 'installation' && <Installation field={props.field} action={action}/> }\r\n                {props.field.id === 'activate' && <Activate field={props.field} action={action}/> }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LetsEncrypt;","import useModal from \"./ModalData\";\r\n\r\n/**\r\n * Button to open the modal\r\n * @param props\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\r\nconst ModalControl = (props) => {\r\n    const {handleModal} = useModal();\r\n    const onClickHandler = () => {\r\n        handleModal(true, props.modalData, props.item );\r\n    }\r\n\r\n    return (\r\n        <button className={\"button button-\" + props.btnStyle} onClick={ (e) => onClickHandler(e) }>{props.btnText}</button>\r\n    )\r\n}\r\nexport default ModalControl","import { useEffect} from \"@wordpress/element\";\r\nimport { Button, ToggleControl } from '@wordpress/components';\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport { __ } from '@wordpress/i18n';\r\nimport Icon from \"../utils/Icon\";\r\nimport Placeholder from '../Placeholder/Placeholder';\r\nimport useMenu from \"../Menu/MenuData\";\r\nimport useFields from \"../Settings/FieldsData\";\r\nimport useProgress from \"../Dashboard/Progress/ProgressData\";\r\nimport useOnboardingData from \"./OnboardingData\";\r\nimport useRiskData from \"../Settings/RiskConfiguration/RiskData\";\r\n\r\nconst Onboarding = (props) => {\r\n    const { fetchFieldsData, updateField, updateFieldsData, getFieldValue} = useFields();\r\n    const { getProgressData} = useProgress();\r\n    const {\r\n        fetchVulnerabilities\r\n    } = useRiskData();\r\n    const {\r\n        dismissModal,\r\n        actionHandler,\r\n        getSteps,\r\n        error,\r\n        certificateValid,\r\n        networkwide,\r\n        sslEnabled,\r\n        dataLoaded,\r\n        processing,\r\n        setProcessing,\r\n        steps,\r\n        currentStep,\r\n        currentStepIndex,\r\n        setCurrentStepIndex,\r\n        overrideSSL,\r\n        setOverrideSSL,\r\n        networkActivationStatus,\r\n        setNetworkActivationStatus,\r\n        networkProgress,\r\n        refreshSSLStatus,\r\n        activateSSLNetworkWide,\r\n        email,\r\n        setEmail,\r\n        saveEmail,\r\n        includeTips,\r\n        setIncludeTips,\r\n        sendTestEmail,\r\n        setSendTestEmail\r\n    } = useOnboardingData();\r\n    const {setSelectedMainMenuItem, selectedMainMenuItem} = useMenu();\r\n    const statuses = {\r\n        'inactive': {\r\n            'icon': 'info',\r\n            'color': 'orange',\r\n        },\r\n        'warning': {\r\n            'icon': 'circle-times',\r\n            'color': 'orange',\r\n        },\r\n        'error': {\r\n            'icon': 'circle-times',\r\n            'color': 'red',\r\n        },\r\n        'success': {\r\n            'icon': 'circle-check',\r\n            'color': 'green',\r\n        },\r\n        'processing': {\r\n            'icon': 'file-download',\r\n            'color': 'red',\r\n        },\r\n    };\r\n\r\n    useEffect( () => {\r\n        if (networkwide && networkActivationStatus==='main_site_activated') {\r\n            activateSSLNetworkWide();\r\n        }\r\n    }, [networkActivationStatus, networkProgress])\r\n\r\n    useEffect( () => {\r\n        const run = async () => {\r\n            await getSteps(false);\r\n            if ( dataLoaded && sslEnabled && currentStepIndex===0) {\r\n                setCurrentStepIndex(1)\r\n            }\r\n\r\n            if (getFieldValue('notifications_email_address') !== '' && email==='') {\r\n                setEmail(getFieldValue('notifications_email_address'))\r\n            }\r\n        }\r\n        run();\r\n    }, [])\r\n\r\n    //ensure all fields are updated, and progress is retrieved again\r\n    useEffect( () => {\r\n        const runUpdate = async () => {\r\n            //in currentStep.items, find item with id 'hardening'\r\n            //if it has status 'completed' fetchFieldsData again.\r\n            if (currentStep && currentStep.items) {\r\n                let hardeningItem = currentStep.items.find((item) => {\r\n                    return item.id === 'hardening';\r\n                })\r\n                if (hardeningItem && hardeningItem.status === 'success') {\r\n                    await fetchFieldsData('hardening');\r\n                    await getProgressData();\r\n                    await fetchVulnerabilities();\r\n                }\r\n            }\r\n        }\r\n        runUpdate();\r\n    }, [currentStep])\r\n\r\n    const activateSSL = () => {\r\n        setProcessing(true);\r\n        rsssl_api.runTest('activate_ssl' ).then( async ( response ) => {\r\n            setProcessing(false);\r\n            setCurrentStepIndex(currentStepIndex+1);\r\n            //change url to https, after final check\r\n            if ( response.success ) {\r\n                if ( response.site_url_changed ) {\r\n                    window.location.reload();\r\n                } else {\r\n                    if ( networkwide ) {\r\n                        setNetworkActivationStatus('main_site_activated');\r\n                    }\r\n                }\r\n            }\r\n        }).then( async () => {\r\n            await getProgressData();\r\n            await fetchFieldsData(selectedMainMenuItem )\r\n        } );\r\n    }\r\n\r\n    const parseStepItems = (items) => {\r\n        return items && items.map( (item, index) => {\r\n            let { title, description, current_action, action, status, button, id, read_more } = item\r\n\r\n            if ( id==='ssl_enabled' && networkwide ) {\r\n                if ( networkProgress>=100) {\r\n                    status = 'success';\r\n                    title = __( \"SSL has been activated network wide\", \"really-simple-ssl\" );\r\n                } else {\r\n                    status = 'processing';\r\n                    title = __( \"Processing activation of subsites networkwide\", \"really-simple-ssl\" );\r\n                }\r\n            }\r\n            const statusIcon = item.status!=='success' && item.is_plugin && item.current_action === 'none' ? 'empty' : statuses[status].icon;\r\n            const statusColor = statuses[status].color;\r\n            const currentActions = {\r\n                'activate_setting': __('Activating...',\"really-simple-ssl\"),\r\n                'activate': __('Activating...',\"really-simple-ssl\"),\r\n                'install_plugin': __('Installing...',\"really-simple-ssl\"),\r\n                'error': __('Failed',\"really-simple-ssl\"),\r\n                'completed': __('Finished',\"really-simple-ssl\"),\r\n            };\r\n\r\n            let buttonTitle = '';\r\n            if ( button ) {\r\n                buttonTitle = button;\r\n                if ( current_action!=='none' ) {\r\n                    buttonTitle = currentActions[current_action];\r\n                    if ( current_action==='failed' ) {\r\n                        buttonTitle = currentActions['error'];\r\n                    }\r\n                }\r\n            }\r\n            let showLink = (button && button===buttonTitle);\r\n            let showAsPlugin = item.status!=='success' && item.is_plugin && item.current_action === 'none';\r\n            let isPluginClass = showAsPlugin ? 'rsssl-is-plugin' : '';\r\n            title = showAsPlugin ? <b>{title}</b> : title;\r\n            return (\r\n                <li key={\"pluginItem-\"+index} className={isPluginClass}>\r\n                    <Icon name = {statusIcon} color = {statusColor} />\r\n                    {title}{description && <>&nbsp;-&nbsp;{description}</>}\r\n                    {id==='ssl_enabled' && networkwide && networkActivationStatus==='main_site_activated' && <>\r\n                        &nbsp;-&nbsp;\r\n                        {networkProgress<100 && <>{__(\"working\", \"really-simple-ssl\")}&nbsp;{networkProgress}%</>}\r\n                        {networkProgress>=100 && __(\"completed\", \"really-simple-ssl\") }\r\n                        </>}\r\n                    {button && <>&nbsp;-&nbsp;\r\n                        {showLink && <Button isLink={true} onClick={(e) => actionHandler(id, action, e)}>{buttonTitle}</Button>}\r\n                        {!showLink && <>{buttonTitle}</>}\r\n                    </>}\r\n                    {showAsPlugin && read_more && <a target=\"_blank\" href={read_more} className=\"button button-default rsssl-read-more\">{__(\"Read More\", \"really-simple-ssl\")}</a>}\r\n                </li>\r\n            )\r\n        })\r\n    }\r\n\r\n    const goToDashboard = () => {\r\n        if ( props.isModal ) dismissModal();\r\n        setSelectedMainMenuItem('dashboard');\r\n    }\r\n\r\n    const goToLetsEncrypt = () => {\r\n         if (props.isModal) dismissModal();\r\n          window.location.href=rsssl_settings.letsencrypt_url;\r\n    }\r\n\r\n    const saveEmailAndUpdateFields = async () => {\r\n        await saveEmail();\r\n\r\n        updateField('send_notifications_email', true );\r\n        updateField('notifications_email_address', email );\r\n        updateFieldsData();\r\n    }\r\n\r\n    const controlButtons = () => {\r\n\r\n        let ActivateSSLText = networkwide ? __(\"Activate SSL networkwide\", \"really-simple-ssl\") : __(\"Activate SSL\", \"really-simple-ssl\");\r\n        if ( currentStepIndex === 0 ) {\r\n           return (\r\n                <>\r\n                    <button disabled={processing || (!certificateValid && !overrideSSL) } className=\"button button-primary\" onClick={() => {activateSSL()}}>{ActivateSSLText}</button>\r\n                    { certificateValid && !rsssl_settings.pro_plugin_active && <a target=\"_blank\" href={rsssl_settings.upgrade_link} className=\"button button-default\" >{__(\"Improve Security with PRO\", \"really-simple-ssl\")}</a>}\r\n                    { !certificateValid && <button className=\"button button-default\" onClick={() => {goToLetsEncrypt()}}>{__(\"Install SSL\", \"really-simple-ssl\")}</button>}\r\n                    { !certificateValid && <ToggleControl\r\n                        label={__(\"Override SSL detection\",\"really-simple-ssl\")}\r\n                        checked={overrideSSL}\r\n                        onChange={(value) => {\r\n                            setOverrideSSL(value);\r\n                            let data = {};\r\n                            data.overrideSSL = value;\r\n                            rsssl_api.doAction('override_ssl_detection',data );\r\n                       }}\r\n                    />}\r\n                </>\r\n            );\r\n        }\r\n\r\n        if (currentStepIndex>0 && currentStepIndex<steps.length-1) {\r\n            return (\r\n                <>\r\n                    <button disabled={processing} className=\"button button-primary\" onClick={() => saveEmailAndUpdateFields()}>{__('Save and continue', 'really-simple-ssl')}</button>\r\n                    <button disabled={processing} className=\"button button-default\" onClick={() => {setCurrentStepIndex(currentStepIndex+1)}}>{__('Skip', 'really-simple-ssl')}</button>\r\n                </>\r\n            );\r\n        }\r\n\r\n        //for last step only\r\n        if ( steps.length-1 === currentStepIndex ) {\r\n            return (\r\n                <>\r\n                    <button className=\"button button-primary\" onClick={() => {goToDashboard()}}>{__('Go to Dashboard', 'really-simple-ssl')}</button>\r\n                    <button className=\"button button-default\" onClick={() => dismissModal()}>{__('Dismiss', 'really-simple-ssl')}</button>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    if (error){\r\n        return (\r\n            <Placeholder lines=\"3\" error={error}></Placeholder>\r\n        )\r\n    }\r\n    let step = currentStep;\r\n    let processingClass = processing ? 'rsssl-processing' : '';\r\n    return (\r\n        <>\r\n            { !dataLoaded && <>\r\n                <div className=\"rsssl-onboarding-placeholder\">\r\n                    <ul>\r\n                        <li><Icon name = \"file-download\" color = 'grey' />{__(\"Fetching next step...\", \"really-simple-ssl\")}</li>\r\n                    </ul>\r\n                    <Placeholder lines=\"3\" ></Placeholder>\r\n                </div>\r\n            </>\r\n            }\r\n            {\r\n                dataLoaded &&\r\n                    <div className={ \"rsssl-modal-content-step \"+processingClass }>\r\n                        <ul>\r\n                            { parseStepItems(step.items) }\r\n                        </ul>\r\n                        { currentStep.id === 'email'&&\r\n                            <>\r\n                                <div>\r\n                                    <input type=\"email\" value={email} placeholder={__(\"Your email address\", \"really-simple-ssl\")} onChange={(e) => setEmail(e.target.value)} />\r\n                                </div><div>\r\n                                <label><input onChange={ (e) => setIncludeTips(e.target.checked)} type=\"checkbox\" checked={includeTips} />{__(\"Include 6 Tips & Tricks to get started with Really Simple SSL.\",\"really-simple-ssl\")}&nbsp;<a href=\"https://really-simple-ssl.com/legal/privacy-statement/\" target=\"_blank\">{__(\"Privacy Statement\", \"really-simple-ssl\")}</a></label>\r\n                                </div><div>\r\n                                    <label><input onChange={ (e) => setSendTestEmail(e.target.checked)} type=\"checkbox\" checked={sendTestEmail} />{__(\"Send a notification test email - Notification emails are sent from your server.\",\"really-simple-ssl\")}</label>\r\n                                </div>\r\n                            </>\r\n\r\n                        }\r\n                        { certificateValid && step.info_text && <div className=\"rsssl-modal-description\" dangerouslySetInnerHTML={{__html: step.info_text}} /> }\r\n                        { currentStepIndex===0 && !certificateValid &&\r\n                            <div className=\"rsssl-modal-description\">\r\n                               <a href=\"#\" onClick={ (e) => refreshSSLStatus(e)}>\r\n                                   { __(\"Refresh SSL status\", \"really-simple-ssl\")}\r\n                               </a>&nbsp;{__(\"The SSL detection method is not 100% accurate.\", \"really-simple-ssl\")}&nbsp;\r\n                               {__(\"If youre certain an SSL certificate is present, and refresh SSL status does not work, please check Override SSL detection to continue activating SSL.\", \"really-simple-ssl\")}\r\n                            </div> }\r\n                        <div className=\"rsssl-modal-content-step-footer\">\r\n                            {controlButtons()}\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Onboarding;","import { __ } from '@wordpress/i18n';\r\nimport Hyperlink from \"../utils/Hyperlink\";\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport useFields from \"./FieldsData\";\r\n\r\n/**\r\n * Render a help notice in the sidebar\r\n */\r\nconst Button = (props) => {\r\n    const {addHelpNotice} = useFields();\r\n\r\n    const onClickHandler = (action) => {\r\n        let data = {};\r\n        rsssl_api.doAction(action, data).then( ( response ) => {\r\n            let label = response.success ? 'success' : 'warning';\r\n            let title = __( \"Test notification by email\", 'really-simple-ssl' );\r\n            let text = response.message;\r\n            addHelpNotice(props.field.id, label, text, title, false);\r\n        });\r\n    }\r\n    return (\r\n        <>\r\n            { props.field.url &&\r\n                <Hyperlink className=\"button button-default\" text={props.field.button_text} url={props.field.url}/>\r\n            }\r\n            { props.field.action &&\r\n                <button onClick={ () => onClickHandler( props.field.action ) }  className=\"button button-default\">{props.field.button_text}</button>\r\n            }\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Button\r\n","/*\r\n* The tooltip can't be included in the native toggleControl, so we have to build our own.\r\n*/\r\nimport { useState, useEffect } from \"@wordpress/element\";\r\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\r\n\r\nconst CheckboxControl = (props) => {\r\n    const [ isOpen, setIsOpen ] = useState( false );\r\n        const onChangeHandler = (e) => {\r\n        //wordpress <6.0 does not have the confirmdialog component\r\n        if ( !ConfirmDialog ) {\r\n            executeAction();\r\n            return;\r\n        }\r\n        if (props.field.warning && props.field.warning.length>0 && !props.field.value) {\r\n            setIsOpen( true );\r\n        } else {\r\n            executeAction();\r\n        }\r\n    }\r\n\r\n    const handleConfirm = async () => {\r\n        setIsOpen( false );\r\n        executeAction();\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsOpen( false );\r\n    };\r\n\r\n    const executeAction = (e) => {\r\n        let fieldValue = !props.field.value;\r\n        props.onChangeHandler(fieldValue)\r\n    }\r\n    const handleKeyDown = (e) => {\r\n        if (e.key === 'Enter') {\r\n            e.preventDefault();\r\n            onChangeHandler(true);\r\n        }\r\n    }\r\n    let field = props.field;\r\n    let is_checked = field.value ? 'is-checked' : '';\r\n    let is_disabled = props.disabled ? 'is-disabled' : '';\r\n\r\n    return (\r\n        <>\r\n            {ConfirmDialog && <ConfirmDialog\r\n                isOpen={ isOpen }\r\n                onConfirm={ handleConfirm }\r\n                onCancel={ handleCancel }\r\n            >\r\n                {field.warning}\r\n            </ConfirmDialog> }\r\n            <div className=\"components-base-control components-toggle-control\">\r\n                <div className=\"components-base-control__field\">\r\n                    <div data-wp-component=\"HStack\" className=\"components-flex components-h-stack\">\r\n                        <span className={ \"components-form-toggle \"+is_checked + ' ' +is_disabled}>\r\n                            <input\r\n                                onKeyDown={(e) => handleKeyDown(e)}\r\n                                checked={field.value}\r\n                                className=\"components-form-toggle__input\"\r\n                                onChange={ ( e ) => onChangeHandler(e) }\r\n                                id={field.id}\r\n                                type=\"checkbox\"\r\n                                disabled={props.disabled}\r\n                            />\r\n                        <span className=\"components-form-toggle__track\"></span>\r\n                        <span className=\"components-form-toggle__thumb\"></span>\r\n                        </span>\r\n                        <label htmlFor={field.id} className=\"components-toggle-control__label\">{props.label}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default CheckboxControl","import {\r\n    TextControl,\r\n    RadioControl,\r\n    TextareaControl,\r\n    __experimentalNumberControl as NumberControl\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport License from \"./License/License\";\r\nimport Password from \"./Password\";\r\nimport SelectControl from \"./SelectControl\";\r\nimport Host from \"./Host\";\r\nimport Hyperlink from \"../utils/Hyperlink\";\r\nimport LetsEncrypt from \"../LetsEncrypt/LetsEncrypt\";\r\nimport Activate from \"../LetsEncrypt/Activate\";\r\nimport MixedContentScan from \"./MixedContentScan/MixedContentScan\";\r\nimport PermissionsPolicy from \"./PermissionsPolicy\";\r\nimport CheckboxControl from \"./CheckboxControl\";\r\nimport Support from \"./Support\";\r\nimport LearningMode from \"./LearningMode/LearningMode\";\r\nimport RiskComponent from \"./RiskConfiguration/RiskComponent\";\r\nimport VulnerabilitiesOverview from \"./RiskConfiguration/vulnerabilitiesOverview\";\r\nimport Button from \"./Button\";\r\nimport Icon from \"../utils/Icon\";\r\nimport { useEffect, useState } from \"@wordpress/element\";\r\nimport useFields from \"./FieldsData\";\r\nimport PostDropdown from \"./PostDropDown\";\r\nimport NotificationTester from \"./RiskConfiguration/NotificationTester\";\r\nimport getAnchor from \"../utils/getAnchor\";\r\n\r\nconst Field = (props) => {\r\n    let scrollAnchor = React.createRef();\r\n    const {updateField, setChangedField, highLightField} = useFields();\r\n    const [anchor, setAnchor] = useState(null);\r\n\r\n    useEffect( () => {\r\n        //check if the url contains the query variable 'anchor'\r\n        setAnchor(getAnchor('anchor'))\r\n        handleAnchor();\r\n        if ( highLightField===props.field.id && scrollAnchor.current ) {\r\n            scrollAnchor.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n    },[]);\r\n\r\n    useEffect( () => {\r\n        handleAnchor();\r\n    },[anchor]);\r\n\r\n    window.addEventListener('hashchange', (e) => {\r\n        setAnchor(getAnchor('anchor'));\r\n    });\r\n\r\n    const handleAnchor = () => {\r\n        if ( anchor && anchor === props.field.id ) {\r\n            scrollAnchor.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n    }\r\n    const onChangeHandler = (fieldValue) => {\r\n        let field = props.field;\r\n        //if there's a pattern, validate it.\r\n        if ( field.pattern ) {\r\n            const regex = new RegExp(field.pattern, 'g');\r\n            const allowedCharactersArray = fieldValue.match(regex);\r\n            fieldValue = allowedCharactersArray ? allowedCharactersArray.join('') : '';\r\n        }\r\n        updateField(field.id, fieldValue);\r\n\r\n        //we can configure other fields if a field is enabled, or set to a certain value.\r\n        let configureFieldCondition = false;\r\n        if ( field.configure_on_activation ) {\r\n            if ( field.configure_on_activation.hasOwnProperty('condition') && props.field.value==field.configure_on_activation.condition ) {\r\n                configureFieldCondition = true;\r\n            }\r\n            let configureField = field.configure_on_activation[0];\r\n            for (let fieldId in configureField ) {\r\n                if ( configureFieldCondition && configureField.hasOwnProperty(fieldId) ) {\r\n                    updateField(fieldId, configureField[fieldId] );\r\n                }\r\n            }\r\n        }\r\n        setChangedField( field.id, fieldValue );\r\n    }\r\n\r\n    const labelWrap = (field) => {\r\n        let tooltipColor = field.warning ? 'red': 'black';\r\n        return (\r\n            <>\r\n                <div className=\"cmplz-label-text\">{field.label}</div>\r\n                {field.tooltip && <Icon name = \"info-open\" tooltip={field.tooltip} color = {tooltipColor} />}\r\n            </>\r\n        )\r\n    }\r\n\r\n    let field = props.field;\r\n    let fieldValue = field.value;\r\n    let disabled = field.disabled;\r\n    let highLightClass = 'rsssl-field-wrap';\r\n    if ( highLightField===props.field.id ) {\r\n        highLightClass = 'rsssl-field-wrap rsssl-highlight';\r\n    }\r\n\r\n    let options = [];\r\n    if ( field.options ) {\r\n        for (var key in field.options) {\r\n            if (field.options.hasOwnProperty(key)) {\r\n                let item = {};\r\n                item.label = field.options[key];\r\n                item.value = key;\r\n                options.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    //if a feature can only be used on networkwide or single site setups, pass that info here.\r\n    if ( !rsssl_settings.networkwide_active && field.networkwide_required ) {\r\n        disabled = true;\r\n        field.comment = <>\r\n            {__(\"This feature is only available networkwide.\",\"really-simple-ssl\")}\r\n            <Hyperlink target=\"_blank\" text={__(\"Network settings\",\"really-simple-ssl\")} url={rsssl_settings.network_link}/>\r\n        </>\r\n    }\r\n\r\n    if ( field.conditionallyDisabled ) {\r\n        disabled = true;\r\n    }\r\n\r\n    if ( !field.visible ) {\r\n        return (\r\n            <></>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='checkbox' ){\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n                <CheckboxControl\r\n                  label={labelWrap(field)}\r\n                  field={field}\r\n                  disabled={disabled}\r\n                  onChangeHandler={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n                />\r\n\r\n                {field.comment && <div className=\"rsssl-comment\" dangerouslySetInnerHTML={{__html:field.comment}}></div>}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='hidden' ){\r\n        return (\r\n            <input type=\"hidden\" value={field.value}/>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='radio' ){\r\n        return (    \r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <RadioControl\r\n                  label={labelWrap(field)}\r\n                  onChange={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n                  selected={ fieldValue }\r\n                  options={ options }\r\n              />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='text' || field.type==='email' ){\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <TextControl\r\n                  required={ field.required }\r\n                  placeholder={ field.placeholder }\r\n                  disabled={ disabled }\r\n                  help={ field.comment }\r\n                  label={labelWrap(field)}\r\n                  onChange={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n                  value= { fieldValue }\r\n              />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='button' ){\r\n        return (\r\n            <div className={'rsssl-field-button ' + highLightClass} ref={scrollAnchor}>\r\n                <label>{field.label}</label>\r\n                <Button field={field}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='password' ){\r\n        return (\r\n            <div className={ highLightClass} ref={scrollAnchor}>\r\n                <Password\r\n                    index={ props.index }\r\n                    field={ field }\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='textarea' ){\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <TextareaControl\r\n                  label={ field.label }\r\n                  help={ field.comment }\r\n                  value= { fieldValue }\r\n                  onChange={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n                  disabled={ field.disabled }\r\n              />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='license' ){\r\n        let field = props.field;\r\n        let fieldValue = field.value;\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <License index={props.index} field={field} fieldValue={fieldValue}/>\r\n            </div>\r\n\r\n        );\r\n    }\r\n    if ( field.type==='number' ){\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n                <NumberControl\r\n                    onChange={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n                    help={ field.comment }\r\n                    label={ field.label }\r\n                    value= { fieldValue }\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    if ( field.type==='email' ){\r\n        return (\r\n            <div className={this.highLightClass} ref={this.scrollAnchor}>\r\n                <TextControl\r\n                    help={ field.comment }\r\n                    label={ field.label }\r\n                    onChange={ ( fieldValue ) => this.onChangeHandler(fieldValue) }\r\n                    value= { fieldValue }\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if ( field.type==='host') {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <Host\r\n                  index={props.index}\r\n                  field={props.field}\r\n              />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ( field.type==='select') {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <SelectControl\r\n                  disabled={ disabled }\r\n                  label={labelWrap(field)}\r\n                  onChangeHandler={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n                  value= { fieldValue }\r\n                  options={ options }\r\n                  field={field}\r\n              />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ( field.type==='support' ) {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <Support/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ( field.type==='postdropdown' ) {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <PostDropdown field={props.field}/>\r\n            </div>\r\n        )\r\n    }\r\n    if ( field.type==='permissionspolicy' ) {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <PermissionsPolicy disabled={disabled} field={props.field} options={options}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ( field.type==='learningmode' ) {\r\n        return(\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <LearningMode disabled={disabled} field={props.field}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ( field.type==='riskcomponent' ) {\r\n        return (<div className={highLightClass} ref={scrollAnchor}>\r\n            <RiskComponent field={props.field}/>\r\n        </div>)\r\n    }\r\n\r\n    if ( field.type === 'mixedcontentscan' ) {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <MixedContentScan field={props.field}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (field.type === 'vulnerabilitiestable') {\r\n        return (\r\n            <div className={highLightClass} ref={scrollAnchor}>\r\n              <VulnerabilitiesOverview field={props.field} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if(field.type === 'notificationtester') {\r\n        return (\r\n            <div className={'rsssl-field-button ' + highLightClass} ref={scrollAnchor}>\r\n                <NotificationTester field={props.field} labelWrap={labelWrap}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ( field.type === 'letsencrypt' ) {\r\n            return (\r\n               <LetsEncrypt field={field} />\r\n            )\r\n    }\r\n\r\n    if ( field.type === 'activate' ) {\r\n            return (\r\n               <Activate field={field}/>\r\n            )\r\n    }\r\n\r\n    return (\r\n        'not found field type '+field.type\r\n    );\r\n}\r\n\r\nexport default Field;","import {\r\n    SelectControl,\r\n} from '@wordpress/components';\r\nimport {useRef} from \"@wordpress/element\";\r\nimport useFields from \"./FieldsData\";\r\n\r\nconst Host = (props) => {\r\n    const {updateField, setChangedField, saveFields, handleNextButtonDisabled} = useFields();\r\n    const disabled = useRef(false);\r\n\r\n    const onChangeHandler = async (fieldValue) => {\r\n        let field = props.field;\r\n        //force update, and get new fields.\r\n        handleNextButtonDisabled(true);\r\n        disabled.current = true;\r\n        updateField(field.id, fieldValue);\r\n        setChangedField(field.id, fieldValue);\r\n\r\n        await saveFields(true, false);\r\n\r\n        handleNextButtonDisabled(false);\r\n        disabled.current = false;\r\n    }\r\n\r\n    let fieldValue = props.field.value;\r\n    let field = props.field;\r\n    let options = [];\r\n    if ( field.options ) {\r\n        for (var key in field.options) {\r\n            if (field.options.hasOwnProperty(key)) {\r\n                let item = {};\r\n                item.label = field.options[key];\r\n                item.value = key;\r\n                options.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n          <SelectControl\r\n              label={ field.label }\r\n              onChange={ ( fieldValue ) => onChangeHandler(fieldValue) }\r\n              value= { fieldValue }\r\n              options={ options }\r\n              disabled={disabled.current}\r\n          />\r\n    )\r\n}\r\nexport default Host;","import { __ } from '@wordpress/i18n';\r\nimport useLearningMode from \"./LearningModeData\";\r\nconst ChangeStatus = (props) => {\r\n    const {updateStatus} = useLearningMode();\r\n\r\n    let statusClass = props.item.status==1 ? 'button button-primary rsssl-status-allowed' : 'button button-default rsssl-status-revoked';\r\n    let label = props.item.status==1 ? __(\"Revoke\", \"really-simple-ssl\") : __(\"Allow\", \"really-simple-ssl\");\r\n    return (\r\n        <button onClick={ () => updateStatus( props.item.status, props.item, props.field.id ) } className={statusClass}>{label}</button>\r\n    )\r\n}\r\nexport default ChangeStatus","import useLearningMode from \"./LearningModeData\";\r\n\r\nconst Delete = (props) => {\r\n    const {deleteData} = useLearningMode();\r\n\r\n    return (\r\n        <button type=\"button\" className=\" rsssl-learning-mode-delete\" onClick={ () => deleteData( props.item, props.field.id ) }>\r\n            <svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\" height=\"16\" >\r\n                <path fill=\"#000000\" d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/>\r\n            </svg>\r\n        </button>\r\n    )\r\n}\r\nexport default Delete","import { __ } from '@wordpress/i18n';\r\nimport {useState,useEffect} from '@wordpress/element';\r\nimport ChangeStatus from \"./ChangeStatus\";\r\nimport Delete from \"./Delete\";\r\nimport Icon from \"../../utils/Icon\";\r\nimport useFields from \"./../FieldsData\";\r\nimport useLearningMode from \"./LearningModeData\";\r\n\r\nconst LearningMode = (props) => {\r\n    const {updateField, getFieldValue, getField, setChangedField, highLightField, saveFields} = useFields();\r\n    const {fetchLearningModeData, learningModeData, dataLoaded} = useLearningMode();\r\n\r\n    //used to show if a feature is already enforced by a third party\r\n    const [enforcedByThirdparty, setEnforcedByThirdparty] = useState(0);\r\n    //toggle from enforced to not enforced\r\n    const [enforce, setEnforce] = useState(0);\r\n    //toggle from learning mode to not learning mode\r\n    const [learningMode, setLearningMode] = useState(0);\r\n    //set learning mode to completed\r\n    const [learningModeCompleted, setLearningModeCompleted] = useState(0);\r\n    const [hasError, setHasError] = useState(false);\r\n    //check if learningmode has been enabled at least once\r\n    const [lmEnabledOnce, setLmEnabledOnce] = useState(0);\r\n    //filter the data\r\n    const [filterValue, setFilterValue] = useState(-1);\r\n    //the value that is used to enable or disable this feature. On or of.\r\n    const [controlField, setControlField] = useState(false);\r\n\r\n    const [DataTable, setDataTable] = useState(null);\r\n    const [theme, setTheme] = useState(null);\r\n    useEffect( () => {\r\n        import('react-data-table-component').then(({ default: DataTable, createTheme }) => {\r\n            setDataTable(() => DataTable);\r\n            setTheme(() => createTheme('really-simple-plugins', {\r\n                divider: {\r\n                    default: 'transparent',\r\n                },\r\n            }, 'light'));\r\n        });\r\n\r\n    }, []);\r\n\r\n\r\n    /**\r\n     * Styling\r\n     */\r\n    const conditionalRowStyles = [\r\n        {\r\n            when: row => row.status ==0,\r\n            classNames: ['rsssl-datatables-revoked'],\r\n        },\r\n    ];\r\n\r\n    const customStyles = {\r\n        headCells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for head cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n        cells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for data cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n    };\r\n\r\n\r\n;\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    useEffect(() => {\r\n        const run = async () => {\r\n            await fetchLearningModeData(props.field.id);\r\n            let controlField = getField(props.field.control_field );\r\n            let enforced_by_thirdparty = controlField.value === 'enforced-by-thirdparty';\r\n            let enforce = enforced_by_thirdparty || controlField.value === 'enforce';\r\n\r\n            setControlField(controlField);\r\n            setEnforcedByThirdparty(enforced_by_thirdparty);\r\n            setLearningModeCompleted(controlField.value==='completed');\r\n            setHasError(controlField.value==='error');\r\n            setLmEnabledOnce(getFieldValue(props.field.control_field+'_lm_enabled_once'))\r\n            setEnforce(enforce);\r\n            setLearningMode(controlField.value === 'learning_mode');\r\n        }\r\n        run();\r\n    }, [enforce, learningMode] );\r\n\r\n    const toggleEnforce = (e, enforceValue) => {\r\n        e.preventDefault();\r\n        //enforce this setting\r\n        let controlFieldValue = enforceValue==1 ? 'enforce' : 'disabled';\r\n        setEnforce(enforceValue);\r\n        setLearningModeCompleted(0);\r\n        setLearningMode(0);\r\n        setChangedField(controlField.id, controlFieldValue);\r\n        updateField(controlField.id, controlFieldValue);\r\n        saveFields(true, false);\r\n        fetchLearningModeData();\r\n    }\r\n\r\n\r\n    const toggleLearningMode = async (e) => {\r\n         e.preventDefault();\r\n        let lmEnabledOnceField = getField(props.field.control_field+'_lm_enabled_once');\r\n        if ( learningMode ) {\r\n            setLmEnabledOnce(1);\r\n            updateField(lmEnabledOnceField.id, 1);\r\n        }\r\n\r\n        let controlFieldValue;\r\n        if ( learningMode || learningModeCompleted ) {\r\n            setLearningMode(0);\r\n            controlFieldValue = 'disabled';\r\n        } else {\r\n            setLearningMode(1);\r\n            controlFieldValue = 'learning_mode';\r\n        }\r\n        setLearningModeCompleted(0);\r\n        setChangedField(controlField.id, controlFieldValue);\r\n        updateField(controlField.id, controlFieldValue);\r\n        setChangedField(lmEnabledOnceField.id, lmEnabledOnceField.value);\r\n        updateField(lmEnabledOnceField, lmEnabledOnceField.value);\r\n        await saveFields(true, false);\r\n    }\r\n\r\n    const Filter = () => (\r\n        <>\r\n            <select onChange={ ( e ) => setFilterValue(e.target.value) } value={filterValue}>\r\n                <option value=\"-1\" >{__(\"All\", \"really-simple-ssl\")}</option>\r\n                <option value=\"1\" >{__(\"Allowed\", \"really-simple-ssl\")}</option>\r\n                <option value=\"0\" >{__(\"Blocked\", \"really-simple-ssl\")}</option>\r\n            </select>\r\n        </>\r\n    );\r\n\r\n    let field = props.field;\r\n    let configuringString = __(\" The %s is now in report-only mode and will collect directives. This might take a while. Afterwards you can Exit, Edit and Enforce these Directives.\", \"really-simple-ssl\").replace('%s', field.label);\r\n    let disabledString = __(\"%s has been disabled.\", \"really-simple-ssl\").replace('%s', field.label);\r\n    let enforcedString = __(\"%s is enforced.\", \"really-simple-ssl\").replace('%s', field.label);\r\n    let enforceDisabled = !lmEnabledOnce;\r\n    if (enforcedByThirdparty) disabledString = __(\"%s is already set outside Really Simple SSL.\", \"really-simple-ssl\").replace('%s', field.label);\r\n    let highLightClass = 'rsssl-field-wrap';\r\n    if ( highLightField===props.field.id ) {\r\n        highLightClass = 'rsssl-field-wrap rsssl-highlight';\r\n    }\r\n    //build our header\r\n    let columns = [];\r\n    field.columns.forEach(function(item, i) {\r\n        let newItem = {\r\n            name: item.name,\r\n            sortable: item.sortable,\r\n            width: item.width,\r\n            selector: row => row[item.column],\r\n        }\r\n        columns.push(newItem);\r\n    });\r\n\r\n    let data = learningModeData;\r\n    data = data.filter(item => item.status<2);\r\n    if (filterValue!=-1) {\r\n        data = data.filter(item => item.status==filterValue);\r\n    }\r\n    for (const item of data){\r\n        if (item.login_status) item.login_statusControl = item.login_status == 1 ? __(\"success\", \"really-simple-ssl\") : __(\"failed\", \"really-simple-ssl\");\r\n        item.statusControl = <ChangeStatus item={item} field={props.field} />;\r\n        item.deleteControl = <Delete item={item} field={props.field}/>;\r\n    }\r\n\r\n    if (!DataTable || !theme) return null;\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                { !dataLoaded || data.length==0 && <>\r\n                    <div className=\"rsssl-learningmode-placeholder\">\r\n                        <div></div><div></div><div></div><div></div>\r\n                    </div>\r\n                </>}\r\n                {data.length>0 && <>\r\n                    <DataTable\r\n                        columns={columns}\r\n                        data={data}\r\n                        dense\r\n                        pagination\r\n                        noDataComponent={__(\"No results\", \"really-simple-ssl\")}\r\n                        persistTableHead\r\n                        theme={theme}\r\n                        customStyles={customStyles}\r\n                        conditionalRowStyles={conditionalRowStyles}\r\n                    /></>\r\n                }\r\n              <div key=\"2\" className={\"rsssl-learning-mode-footer \"}>\r\n                  {hasError && <div className=\"rsssl-locked\">\r\n                          <div className=\"rsssl-locked-overlay\">\r\n                              <span className=\"rsssl-progress-status rsssl-learning-mode-error\">{__(\"Error detected\",\"really-simple-ssl\")}</span>\r\n                              {__(\"%s cannot be implemented due to server limitations. Check your notices for the detected issue.\", \"really-simple-ssl\").replace('%s', field.label)}&nbsp;\r\n                              <a className=\"rsssl-learning-mode-link\" href=\"#\" onClick={ (e) => toggleEnforce(e, false ) }>{__(\"Disable\", \"really-simple-ssl\") }</a>\r\n                          </div>\r\n                      </div>\r\n                  }\r\n                  {!hasError && <>\r\n                      { enforce!=1 && <button disabled={enforceDisabled} className=\"button button-primary\" onClick={ (e) => toggleEnforce(e, true ) }>{__(\"Enforce\",\"really-simple-ssl\")}</button> }\r\n                      { !enforcedByThirdparty && enforce==1 && <button className=\"button\" onClick={ (e) => toggleEnforce(e, false ) }>{__(\"Disable\",\"really-simple-ssl\")}</button> }\r\n                      <label>\r\n                          <input type=\"checkbox\"\r\n                              disabled = {enforce}\r\n                              checked ={learningMode==1}\r\n                              value = {learningMode}\r\n                              onChange={ ( e ) => toggleLearningMode(e) }\r\n                          />\r\n                          {__(\"Enable Learning Mode to configure automatically\",\"really-simple-ssl\")}\r\n                      </label>\r\n                    { enforce==1 && <div className=\"rsssl-locked\">\r\n                        <div className=\"rsssl-shield-overlay\">\r\n                              <Icon name = \"shield\"  size=\"80px\"/>\r\n                        </div>\r\n                        <div className=\"rsssl-locked-overlay\">\r\n                            <span className=\"rsssl-progress-status rsssl-learning-mode-enforced\">{__(\"Enforced\",\"really-simple-ssl\")}</span>\r\n                            {enforcedString}&nbsp;\r\n                            <a className=\"rsssl-learning-mode-link\" href=\"#\" onClick={ (e) => toggleEnforce(e) }>{__(\"Disable to configure\", \"really-simple-ssl\") }</a>\r\n                        </div>\r\n                    </div>}\r\n                    {learningMode==1 && <div className=\"rsssl-locked\">\r\n                        <div className=\"rsssl-locked-overlay\">\r\n                            <span className=\"rsssl-progress-status rsssl-learning-mode\">{__(\"Learning Mode\",\"really-simple-ssl\")}</span>\r\n                            {configuringString}&nbsp;\r\n                            <a className=\"rsssl-learning-mode-link\" href=\"#\" onClick={ (e) => toggleLearningMode(e) }>{__(\"Exit\", \"really-simple-ssl\") }</a>\r\n                        </div>\r\n                    </div>}\r\n                    { learningModeCompleted==1 && <div className=\"rsssl-locked\">\r\n                        <div className=\"rsssl-locked-overlay\">\r\n                            <span className=\"rsssl-progress-status rsssl-learning-mode-completed\">{__(\"Learning Mode\",\"really-simple-ssl\")}</span>\r\n                            {__(\"We finished the configuration.\", \"really-simple-ssl\")}&nbsp;\r\n                            <a className=\"rsssl-learning-mode-link\" href=\"#\" onClick={ (e) => toggleLearningMode(e) }>{__(\"Review the settings and enforce the policy\", \"really-simple-ssl\") }</a>\r\n                        </div>\r\n                    </div> }\r\n                    { rsssl_settings.pro_plugin_active && props.disabled && <div className=\"rsssl-locked \">\r\n                        <div className=\"rsssl-locked-overlay\">\r\n                            { !enforcedByThirdparty && <span className=\"rsssl-progress-status rsssl-disabled\">{__(\"Disabled\",\"really-simple-ssl\")}</span> }\r\n                            { enforcedByThirdparty && <span className=\"rsssl-progress-status rsssl-learning-mode-enforced\">{__(\"Enforced\",\"really-simple-ssl\")}</span> }\r\n                            { disabledString }\r\n                        </div>\r\n                    </div>}\r\n                  </>\r\n                  }\r\n                <Filter />\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LearningMode\r\n","import {create} from 'zustand';\r\nimport * as rsssl_api from \"../../utils/api\";\r\n\r\nconst UseLearningMode = create(( set, get ) => ({\r\n    learningModeData: [],\r\n    dataLoaded: false,\r\n    fetchLearningModeData: async (type) => {\r\n        let data = {};\r\n        data.type = type;\r\n        data.lm_action = 'get';\r\n        let learningModeData = await rsssl_api.doAction('learning_mode_data', data).then((response) => {\r\n            return response;\r\n        })\r\n        if ( typeof learningModeData === 'object' ) {\r\n            learningModeData = Object.values(learningModeData);\r\n        }\r\n        if ( !Array.isArray(learningModeData) ) {\r\n            learningModeData = [];\r\n        }\r\n        set({\r\n            learningModeData: learningModeData,\r\n            dataLoaded:true,\r\n        });\r\n    },\r\n    updateStatus: async (enabled, updateItem, type) => {\r\n        let learningModeData = get().learningModeData;\r\n        let data = {};\r\n        data.type = type;\r\n        data.updateItemId = updateItem.id;\r\n        data.enabled = enabled==1 ? 0 : 1;\r\n        data.lm_action = 'update';\r\n\r\n        //for fast UX feel, update the state before we post\r\n        for (const item of learningModeData){\r\n            if (updateItem.id === item.id && item.status) {\r\n                item.status = data.enabled;\r\n            }\r\n        }\r\n        set({\r\n            learningModeData: learningModeData,\r\n        });\r\n        learningModeData = await rsssl_api.doAction('learning_mode_data', data).then((response) => {\r\n            return response;\r\n        })\r\n        if ( typeof learningModeData === 'object' ) {\r\n            learningModeData = Object.values(learningModeData);\r\n        }\r\n        if ( !Array.isArray(learningModeData) ) {\r\n            learningModeData = [];\r\n        }\r\n        set({\r\n            learningModeData: learningModeData,\r\n            dataLoaded:true,\r\n        });\r\n    },\r\n    deleteData: async (deleteItem, type) => {\r\n        let learningModeData = get().learningModeData;\r\n\r\n        let data = {};\r\n        data.type = type;\r\n        data.updateItemId = deleteItem.id;\r\n        data.lm_action = 'delete';\r\n        //for fast UX feel, update the state before we post\r\n        learningModeData.forEach(function(item, i) {\r\n            if (item.id === deleteItem.id) {\r\n                learningModeData.splice(i, 1);\r\n            }\r\n        });\r\n        set({\r\n            learningModeData: learningModeData,\r\n        });\r\n        learningModeData = await rsssl_api.doAction('learning_mode_data', data).then((response) => {\r\n            return response;\r\n        })\r\n        if ( typeof learningModeData === 'object' ) {\r\n            learningModeData = Object.values(learningModeData);\r\n        }\r\n        if ( !Array.isArray(learningModeData) ) {\r\n            learningModeData = [];\r\n        }\r\n        set({\r\n            learningModeData: learningModeData,\r\n            dataLoaded:true,\r\n        });\r\n    },\r\n\r\n}));\r\n\r\nexport default UseLearningMode;\r\n\r\n\r\n","import TaskElement from \"../../Dashboard/TaskElement\";\r\nimport * as rsssl_api from \"../../utils/api\";\r\nimport { __ } from '@wordpress/i18n';\r\nimport useFields from \"./../FieldsData\";\r\nimport useLicense from \"./LicenseData\";\r\nimport {useState, useEffect} from \"@wordpress/element\";\r\nconst License = (props) => {\r\n    const {fields, setChangedField, updateField} = useFields();\r\n    const {licenseStatus, setLicenseStatus} = useLicense();\r\n    const [noticesLoaded, setNoticesLoaded] = useState(false);\r\n    const [fieldsUpdateComplete, setFieldsUpdateComplete] = useState(false);\r\n    const [notices, setNotices] = useState(false);\r\n\r\n    const getLicenseNotices = () => {\r\n        return rsssl_api.runTest('licenseNotices', 'refresh').then( ( response ) => {\r\n            return response;\r\n        });\r\n    }\r\n\r\n    useEffect( () => {\r\n        getLicenseNotices().then(( response ) => {\r\n            setLicenseStatus(response.licenseStatus);\r\n            setNotices(response.notices);\r\n            setNoticesLoaded(true);\r\n        });\r\n    }, [fields] );\r\n\r\n    const onChangeHandler = (fieldValue) => {\r\n        setChangedField( field.id, fieldValue )\r\n        updateField(field.id, fieldValue);\r\n    }\r\n\r\n    const toggleActivation = () => {\r\n         setNoticesLoaded(false);\r\n        if ( licenseStatus==='valid' ) {\r\n            rsssl_api.runTest('deactivate_license').then( ( response ) => {\r\n                setLicenseStatus(response.licenseStatus);\r\n                setNotices(response.notices);\r\n                setNoticesLoaded(true);\r\n            });\r\n        } else {\r\n            let data = {};\r\n            data.license = props.field.value;\r\n            rsssl_api.doAction('activate_license', data).then( ( response ) => {\r\n                setLicenseStatus(response.licenseStatus);\r\n                setNotices(response.notices);\r\n                setNoticesLoaded(true);\r\n            });\r\n        }\r\n    }\r\n\r\n    let field = props.field;\r\n    /**\r\n     * There is no \"PasswordControl\" in WordPress react yet, so we create our own license field.\r\n     */\r\n    return (\r\n            <div className=\"components-base-control\">\r\n             <div className=\"components-base-control__field\">\r\n                 <label\r\n                     className=\"components-base-control__label\"\r\n                     htmlFor={field.id}>{field.label}</label>\r\n                  <div className=\"rsssl-license-field\">\r\n                     <input className=\"components-text-control__input\"\r\n                            type=\"password\"\r\n                            id={field.id}\r\n                            value={field.value}\r\n                            onChange={ ( e ) => onChangeHandler(e.target.value) }\r\n                     />\r\n                     <button className=\"button button-default\" onClick={ () => toggleActivation() }>\r\n                     {licenseStatus==='valid' && <>{__(\"Deactivate\",\"really-simple-ssl\")}</>}\r\n                     {licenseStatus!=='valid' && <>{__(\"Activate\",\"really-simple-ssl\")}</>}\r\n                     </button>\r\n                 </div>\r\n             </div>\r\n                {noticesLoaded && notices.map((notice, i) => <TaskElement key={i} index={i} notice={notice} highLightField=\"\"/>)}\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default License;","import {create} from 'zustand';\r\nimport * as rsssl_api from \"../../utils/api\";\r\n\r\nconst UseMixedContent = create(( set, get ) => ({\r\n    mixedContentData: [],\r\n    dataLoaded:false,\r\n    fixedItemId:false,\r\n    action:'',\r\n    nonce:'',\r\n    completedStatus:'never',\r\n    progress:0,\r\n    scanStatus:false,\r\n    fetchMixedContentData: async () => {\r\n        set({ scanStatus: 'running' } );\r\n        const {data, progress, state, action, nonce, completed_status } = await getScanIteration(false);\r\n        set({\r\n            scanStatus: state,\r\n            mixedContentData: data,\r\n            progress: progress,\r\n            action: action,\r\n            nonce: nonce,\r\n            completedStatus: completed_status,\r\n            dataLoaded: true,\r\n        });\r\n    },\r\n    start: async () => {\r\n        const {data, progress, state, action, nonce, completed_status } = await getScanIteration('start');\r\n        set({\r\n            scanStatus: state,\r\n            mixedContentData: data,\r\n            progress: progress,\r\n            action: action,\r\n            nonce: nonce,\r\n            completedStatus: completed_status,\r\n            dataLoaded:true,\r\n        });\r\n    },\r\n    runScanIteration: async () => {\r\n        let currentState = get().scanStatus;\r\n        if ( currentState==='stop' ) {\r\n            return;\r\n        }\r\n\r\n        const {data, progress, state, action, nonce, completed_status } = await getScanIteration(currentState);\r\n        if ( get().scanStatus !== 'stop' ) {\r\n            set({\r\n                scanStatus: state,\r\n                mixedContentData: data,\r\n                progress: progress,\r\n                action: action,\r\n                nonce: nonce,\r\n                completedStatus: completed_status,\r\n                dataLoaded:true,\r\n            });\r\n        }\r\n\r\n\r\n    },\r\n    stop: async () => {\r\n        set({ scanStatus: 'stop' } );\r\n        const {data, progress, state, action, nonce, completed_status } = await getScanIteration('stop');\r\n        set({\r\n            scanStatus: 'stop',\r\n            mixedContentData: data,\r\n            progress: progress,\r\n            action: action,\r\n            nonce: nonce,\r\n            completedStatus: completed_status,\r\n        });\r\n    },\r\n    removeDataItem: (removeItem) => {\r\n        let data = get().mixedContentData;\r\n        for (const item of data) {\r\n            if (item.id===removeItem.id){\r\n                item.fixed = true;\r\n            }\r\n        }\r\n        set({\r\n            mixedContentData: data,\r\n        });\r\n    },\r\n    ignoreDataItem: (ignoreItem) => {\r\n        let data = get().mixedContentData;\r\n        for (const item of data) {\r\n            if (item.id===ignoreItem.id){\r\n                item.ignored = true;\r\n            }\r\n        }\r\n        set({\r\n            mixedContentData: data,\r\n        });\r\n    }\r\n\r\n\r\n}));\r\n\r\nexport default UseMixedContent;\r\n\r\nconst getScanIteration = async (state) => {\r\n    return await rsssl_api.runTest('mixed_content_scan', state).then((response) => {\r\n        let data = response.data;\r\n        if (typeof data === 'object') {\r\n            data = Object.values(data);\r\n        }\r\n        if ( !Array.isArray(data) ) {\r\n            data = [];\r\n        }\r\n        response.data = data;\r\n        if ( state==='stop' ) {\r\n            response.state = 'stop';\r\n        }\r\n\r\n        return response;\r\n    })\r\n}\r\n\r\n","import {useState, useEffect} from \"@wordpress/element\";\r\nimport {ToggleControl} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport ModalControl from \"../../Modal/ModalControl\";\r\nimport Icon from \"../../utils/Icon\";\r\nimport UseMixedContent from \"./MixedContentData\";\r\nimport useModal from \"../../Modal/ModalData\";\r\n\r\nconst MixedContentScan = (props) => {\r\n    const {fixedItems, ignoredItems} = useModal();\r\n    const {fetchMixedContentData, mixedContentData, runScanIteration, start, stop, dataLoaded, action, scanStatus, progress, completedStatus, nonce, removeDataItem, ignoreDataItem} = UseMixedContent();\r\n    const [showIgnoredUrls, setShowIgnoredUrls] = useState(false);\r\n    const [resetPaginationToggle, setResetPaginationToggle] = useState(false);\r\n    const [DataTable, setDataTable] = useState(null);\r\n    const [theme, setTheme] = useState(null);\r\n    useEffect( () => {\r\n        import('react-data-table-component').then(({ default: DataTable, createTheme }) => {\r\n            setDataTable(() => DataTable);\r\n            setTheme(() => createTheme('really-simple-plugins', {\r\n                divider: {\r\n                    default: 'transparent',\r\n                },\r\n            }, 'light'));\r\n        });\r\n\r\n    }, []);\r\n    useEffect( () => {\r\n        fetchMixedContentData();\r\n    }, [] );\r\n\r\n    useEffect( () => {\r\n        if (scanStatus==='running') {\r\n            runScanIteration()\r\n        }\r\n    }, [progress, scanStatus] );\r\n\r\n    const toggleIgnoredUrls = (e) => {\r\n        setShowIgnoredUrls(!showIgnoredUrls);\r\n    }\r\n\r\n    let field = props.field;\r\n    let columns = [];\r\n    field.columns.forEach(function(item, i) {\r\n        let newItem = {\r\n            name: item.name,\r\n            sortable: item.sortable,\r\n            grow: item.grow,\r\n            selector: row => row[item.column],\r\n            right: !!item.right,\r\n        }\r\n        columns.push(newItem);\r\n    });\r\n\r\n    let dataTable = dataLoaded ? mixedContentData : [];\r\n\r\n    for (const item of dataTable) {\r\n        item.warningControl = <span className=\"rsssl-task-status rsssl-warning\">{__(\"Warning\", \"really-simple-ssl\")}</span>\r\n\r\n        //check if an item was recently fixed or ignored, and update the table\r\n        if (fixedItems.includes(item.id)) {\r\n            item.fixed = true;\r\n        }\r\n        if (ignoredItems.includes(item.id)) {\r\n            item.ignored = true;\r\n        }\r\n        //give fix and details the url as prop\r\n        if ( item.fix ) {\r\n            item.fix.url = item.blocked_url;\r\n            item.fix.nonce = nonce;\r\n        }\r\n        if (item.details) {\r\n            item.details.url = item.blocked_url;\r\n            item.details.nonce = nonce;\r\n            item.details.ignored = item.ignored;\r\n        }\r\n        if (item.location.length > 0) {\r\n            if (item.location.indexOf('http://') !== -1 || item.location.indexOf('https://') !== -1) {\r\n                item.locationControl =\r\n                    <a href={item.location} target=\"_blank\">{__(\"View\", \"really-simple-ssl\")}</a>\r\n            } else {\r\n                item.locationControl = item.location;\r\n            }\r\n        }\r\n        item.detailsControl = item.details &&\r\n            <ModalControl\r\n                            handleModal={props.handleModal}\r\n                            item={item}\r\n                            id={item.id}\r\n                            btnText={__(\"Details\", \"really-simple-ssl\")}\r\n                            btnStyle={\"secondary\"}\r\n                            modalData={item.details}/>;\r\n        item.fixControl = item.fix &&\r\n            <ModalControl className={\"button button-primary\"}\r\n                            handleModal={props.handleModal}\r\n                            item={item}\r\n                          id={item.id}\r\n                          btnText={__(\"Fix\", \"really-simple-ssl\")}\r\n                            btnStyle={\"primary\"}\r\n                            modalData={item.fix}/>;\r\n    }\r\n\r\n    if ( !showIgnoredUrls ) {\r\n        dataTable = dataTable.filter(\r\n            item => !item.ignored,\r\n        );\r\n    }\r\n\r\n    //filter also recently fixed items\r\n    dataTable = dataTable.filter(\r\n        item => !item.fixed,\r\n    );\r\n\r\n    let progressOutput =progress+'%';\r\n    let startDisabled = scanStatus === 'running';\r\n    let stopDisabled = scanStatus !== 'running';\r\n\r\n    const customStyles = {\r\n        headCells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for head cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n        cells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for data cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"rsssl-progress-container\">\r\n                <div className=\"rsssl-progress-bar\" style={{width: progressOutput}} ></div>\r\n            </div>\r\n            {scanStatus==='running' && <div className=\"rsssl-current-scan-action\">{action}</div>}\r\n                {dataTable.length===0 && <>\r\n                    <div className=\"rsssl-mixed-content-description\">\r\n                        {scanStatus!=='running' && completedStatus==='never' && __(\"No results. Start your first scan\",\"really-simple-ssl\")}\r\n                        {scanStatus!=='running' && completedStatus==='completed' && __(\"Everything is now served over SSL\",\"really-simple-ssl\")}\r\n                    </div>\r\n                    { (scanStatus ==='running' || completedStatus!=='completed') && <div className=\"rsssl-mixed-content-placeholder\">\r\n                             <div></div><div></div><div></div>\r\n                    </div>\r\n                    }\r\n                    { scanStatus!=='running' && completedStatus==='completed' && <div className=\"rsssl-shield-overlay\">\r\n                          <Icon name = \"shield\"  size=\"80px\"/>\r\n                    </div> }\r\n                    </>}\r\n                { DataTable && dataTable.length>0 && <div className={'rsssl-mixed-content-datatable'}><DataTable\r\n                    columns={columns}\r\n                    data={dataTable}\r\n                    dense\r\n                    pagination\r\n                    paginationResetDefaultPage={resetPaginationToggle} // optionally, a hook to reset pagination to page 1\r\n                    noDataComponent={__(\"No results\", \"really-simple-ssl\")} //or your component\r\n                    theme={theme}\r\n                    customStyles={customStyles}\r\n                /></div>  }\r\n            <div className=\"rsssl-grid-item-content-footer\">\r\n                <button className=\"button\" disabled={startDisabled} onClick={ () => start() }>{__(\"Start scan\",\"really-simple-ssl\")}</button>\r\n                <button className=\"button\" disabled={stopDisabled} onClick={ () => stop() }>{__(\"Stop\",\"really-simple-ssl\")}</button>\r\n                <ToggleControl\r\n                    checked= { showIgnoredUrls==1 }\r\n                    onChange={ (e) => toggleIgnoredUrls(e) }\r\n                />\r\n                <label>{__('Show ignored URLs', 'really-simple-ssl')}</label>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default MixedContentScan;\r\n","import useFields from \"./FieldsData\";\r\n\r\nconst Password = (props) => {\r\n    const {updateField, setChangedField} = useFields();\r\n\r\n    const onChangeHandler = (fieldValue) => {\r\n        updateField( props.field.id, fieldValue );\r\n        setChangedField( props.field.id, fieldValue );\r\n    }\r\n\r\n    /**\r\n     * There is no \"PasswordControl\" in WordPress react yet, so we create our own license field.\r\n     */\r\n    return (\r\n        <div className=\"components-base-control\">\r\n         <div className=\"components-base-control__field\">\r\n             <label\r\n                 className=\"components-base-control__label\"\r\n                 htmlFor={props.field.id}>{props.field.label}</label>\r\n             <input className=\"components-text-control__input\"\r\n                    type=\"password\"\r\n                    id={props.field.id}\r\n                    value={props.field.value}\r\n                    onChange={ ( e ) => onChangeHandler(e.target.value) }\r\n             />\r\n         </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Password;","import {\r\n    SelectControl,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {useState,useEffect} from '@wordpress/element';\r\nimport Icon from \"../utils/Icon\";\r\nimport useFields from \"./FieldsData\";\r\n\r\nconst PermissionsPolicy = (props) => {\r\n    const {fields, updateField, updateSubField, setChangedField, saveFields} = useFields();\r\n    const [enablePermissionsPolicy, setEnablePermissionsPolicy] = useState(0);\r\n    const [DataTable, setDataTable] = useState(null);\r\n    const [theme, setTheme] = useState(null);\r\n    useEffect( () => {\r\n        import('react-data-table-component').then(({ default: DataTable, createTheme }) => {\r\n            setDataTable(() => DataTable);\r\n            setTheme(() => createTheme('really-simple-plugins', {\r\n                divider: {\r\n                    default: 'transparent',\r\n                },\r\n            }, 'light'));\r\n        });\r\n\r\n    }, []);\r\n\r\n    useEffect( () => {\r\n        let field = fields.filter(field => field.id === 'enable_permissions_policy')[0];\r\n        setEnablePermissionsPolicy(field.value);\r\n    }, [] );\r\n\r\n    const onChangeHandler = (value, clickedItem ) => {\r\n        let field= props.field;\r\n        if (typeof field.value === 'object') {\r\n            updateField(field.id, Object.values(field.value))\r\n        }\r\n\r\n        //the updateItemId allows us to update one specific item in a field set.\r\n        updateSubField(field.id, clickedItem.id, value);\r\n        setChangedField(field.id, value);\r\n        saveFields(true, false);\r\n    }\r\n\r\n    const togglePermissionsPolicyStatus = (e, enforce) => {\r\n         e.preventDefault();\r\n        //look up permissions policy enable field //enable_permissions_policy\r\n        let field = fields.filter(field => field.id === 'enable_permissions_policy')[0];\r\n        //enforce setting\r\n        setEnablePermissionsPolicy(enforce);\r\n        updateField(field.id, enforce);\r\n        setChangedField(field.id, field.value);\r\n        saveFields(true, false);\r\n    }\r\n\r\n    let field = props.field;\r\n    let fieldValue = field.value;\r\n    let options = props.options;\r\n\r\n    columns = [];\r\n    field.columns.forEach(function(item, i) {\r\n        let newItem = {\r\n            name: item.name,\r\n            sortable: item.sortable,\r\n            width: item.width,\r\n            selector: row => row[item.column],\r\n        }\r\n        columns.push(newItem);\r\n    });\r\n    let data = field.value;\r\n    if (typeof data === 'object') {\r\n        data = Object.values(data);\r\n    }\r\n    if (!Array.isArray(data) ) {\r\n        data = [];\r\n    }\r\n    let disabled = false;\r\n    let outputData = [];\r\n    for (const item of data){\r\n        let itemCopy = {...item};\r\n        itemCopy.valueControl = <SelectControl\r\n            help=''\r\n            value={item.value}\r\n            disabled={disabled}\r\n            options={options}\r\n            label=''\r\n            onChange={ ( fieldValue ) => onChangeHandler( fieldValue, item, 'value' ) }\r\n        />\r\n        outputData.push(itemCopy);\r\n    }\r\n\r\n    const customStyles = {\r\n        headCells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for head cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n        cells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for data cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n    };\r\n\r\n    if (!DataTable || !theme) return null;\r\n\r\n    return (\r\n        <div>\r\n                <DataTable\r\n                    columns={columns}\r\n                    data={outputData}\r\n                    dense\r\n                    pagination={false}\r\n                    customStyles={customStyles}\r\n                    theme={theme}\r\n                />\r\n                { enablePermissionsPolicy!=1 && <button className=\"button button-primary\" onClick={ (e) => togglePermissionsPolicyStatus(e, true ) }>{__(\"Enforce\",\"really-simple-ssl\")}</button> }\r\n                { enablePermissionsPolicy==1 && <div className=\"rsssl-locked\">\r\n                    <div className=\"rsssl-shield-overlay\">\r\n                        <Icon name = \"shield\"  size=\"80px\"/>\r\n                    </div>\r\n                    <div className=\"rsssl-locked-overlay\">\r\n                        <span className=\"rsssl-progress-status rsssl-learning-mode-enforced\">{__(\"Enforced\",\"really-simple-ssl\")}</span>\r\n                        { props.disabled && <>{ __(\"Permissions Policy is set outside Really Simple SSL.\", \"really-simple-ssl\")}&nbsp;</>}\r\n                        { !props.disabled && <>{__(\"Permissions Policy is enforced.\", \"really-simple-ssl\")}&nbsp;</>}\r\n                        { !props.disabled && <a className=\"rsssl-learning-mode-link\" href=\"#\" onClick={ (e) => togglePermissionsPolicyStatus(e, false) }>{__(\"Disable\", \"really-simple-ssl\") }</a> }\r\n                    </div>\r\n                </div>}\r\n                { props.disabled && enablePermissionsPolicy!=1 && <div className=\"rsssl-locked\">\r\n                    <div className=\"rsssl-locked-overlay\">\r\n                        <span className=\"rsssl-progress-status rsssl-disabled\">{__(\"Disabled\",\"really-simple-ssl\")}</span>\r\n                        {__(\"The Permissions Policy has been disabled.\", \"really-simple-ssl\")}\r\n                    </div>\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default PermissionsPolicy","/**\r\n * This file contains the PostDropdown component.\r\n *\r\n * This component displays a dropdown menu that allows the user to select a post\r\n * from a list of posts fetched from the WordPress database. The selected post\r\n * is then used to set a value in an options array stored in the WordPress\r\n * database. The component also allows the user to search for posts by typing\r\n * in a search box.\r\n */\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { __ } from '@wordpress/i18n';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport useFields from \"./FieldsData\";\r\n\r\nconst PostDropdown = ({ field }) => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [selectedPost, setSelectedPost] = useState(\"\");\r\n    const {updateField, setChangedField} = useFields();\r\n    const [ThemeProvider, setThemeProvider] = useState(null);\r\n    const [theme, setTheme] = useState(null);\r\n    const [Autocomplete, setAutocomplete] = useState(null);\r\n    useEffect( () => {\r\n        import('@material-ui/lab/Autocomplete').then(({ default: Autocomplete }) => {\r\n            setAutocomplete(() => Autocomplete);\r\n        });\r\n\r\n       import ('@material-ui/core/styles').then(({ createTheme,  ThemeProvider }) => {\r\n           setThemeProvider(() => ThemeProvider);\r\n            setTheme(() => createTheme({\r\n                    typography: {\r\n                        fontSize: 12,\r\n                        fontFamily: 'inherit',\r\n                    },\r\n                    overrides: {\r\n                        MuiInputBase: {\r\n                            root: {\r\n                                fontSize: '12px',\r\n                                fontFamily: 'inherit',\r\n                                height: '40px',\r\n                            }\r\n                        },\r\n                        MuiList: {\r\n                            root: {\r\n                                fontSize: '8px',\r\n                            }\r\n                        },\r\n                        MuiAutocomplete: {\r\n                            inputRoot: {\r\n                                '& .MuiAutocomplete-input': {\r\n                                    padding: '0 !important',\r\n                                    border: 0,\r\n                                },\r\n                                flexWrap: 'inherit',\r\n                            },\r\n                            popper: {\r\n                                fontSize: '12px',\r\n                            },\r\n                            paper: {\r\n                                fontSize: '12px',\r\n                            },\r\n                            option: {\r\n                                fontSize: '12px',\r\n                            },\r\n                            root: {\r\n                                padding: 0,\r\n                            }\r\n                        },\r\n                    },\r\n                })\r\n            );\r\n       });\r\n\r\n    }, []);\r\n\r\n    // Fetch the list of posts from the WordPress database when the component mounts.\r\n    useEffect(() => {\r\n        apiFetch({ path: '/wp/v2/pages?per_page=100' })\r\n            .then((data) => {\r\n                const formattedData = data.map(post => ({\r\n                    title: post.title.rendered,\r\n                    id: post.id\r\n                }));\r\n                setPosts([{ 'title': \"404 (default)\", 'id': \"404_default\" }, ...formattedData]);\r\n            });\r\n    }, []);\r\n\r\n    // Fetch the data for the selected post from the WordPress database when the component mounts.\r\n    useEffect(() => {\r\n        if (field.value !== '404_default') {\r\n            apiFetch({ path: `wp/v2/pages/${field.value}` })\r\n                .then((data) => {\r\n                    if (data.title) {\r\n                        setSelectedPost({ 'title': data.title.rendered, 'id': field.value })\r\n                    } else {\r\n                        setSelectedPost({ 'title': \"404 (default)\", 'id': '404_default' })\r\n                    }\r\n                });\r\n        } else {\r\n            setSelectedPost({ 'title': \"404 (default)\", 'id': '404_default' })\r\n        }\r\n    }, [field.value]);\r\n\r\n\r\n    if (!Autocomplete || !ThemeProvider || !theme) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <label htmlFor=\"rsssl-filter-post-input\">\r\n                {__(\"Redirect to this post when someone tries to access /wp-admin or /wp-login.php. The default is a 404 page.\",\"really-simple-ssl\")}\r\n            </label>\r\n            <ThemeProvider theme={theme}>\r\n                <Autocomplete\r\n                    options={posts}\r\n                    getOptionLabel={(option) => option.title ? option.title : ''}\r\n                    renderInput={(params) => (\r\n                        <TextField\r\n                            {...params}\r\n                            variant=\"outlined\"\r\n                            placeholder={__('Search for a post.','really-simple-ssl')}\r\n                        />\r\n                    )}\r\n                    getOptionSelected={(option, value) => {\r\n                        return option.id === value.id;\r\n                    }}\r\n                    onChange={(event, newValue) => {\r\n                        let value = newValue && newValue.id ? newValue.id : '404_default';\r\n                        updateField(field.id, value);\r\n                        setChangedField( field.id, value );\r\n                    }}\r\n                    value={selectedPost}\r\n                />\r\n            </ThemeProvider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostDropdown;","import * as rsssl_api from \"../../utils/api\";\r\nimport useFields from \"../FieldsData\";\r\nimport {__} from \"@wordpress/i18n\";\r\nimport {useEffect, useState} from \"react\";\r\nimport useRiskData from \"./RiskData\";\r\n\r\nconst NotificationTester = (props) => {\r\n    const {\r\n        fetchVulnerabilities,riskLevels\r\n    } = useRiskData();\r\n    const {field} = props;\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [mailNotificationsEnabled, setMailNotificationsEnabled] = useState(true);\r\n    const [vulnerabilitiesEnabled, setVulnerabilitiesEnabled] = useState(false);\r\n    const [vulnerabilitiesSaved, setVulnerabilitiesSaved] = useState(false);\r\n    const {addHelpNotice, fields, getFieldValue, updateField, setChangedField, fieldAlreadyEnabled, fetchFieldsData, updateFieldAttribute} = useFields();\r\n    useEffect ( () => {\r\n        let mailEnabled = getFieldValue('send_notifications_email') == 1;\r\n        let vulnerabilities = fieldAlreadyEnabled('enable_vulnerability_scanner');\r\n        setMailNotificationsEnabled(mailEnabled);\r\n        let enableButton = mailEnabled && vulnerabilities;\r\n        setDisabled(!enableButton);\r\n        setMailNotificationsEnabled(mailEnabled);\r\n        setVulnerabilitiesSaved(vulnerabilities);\r\n        setVulnerabilitiesEnabled(getFieldValue('enable_vulnerability_scanner') == 1)\r\n    },[fields])\r\n\r\n    const doTestNotification = async () => {\r\n        //Test the notifications\r\n        setDisabled(true);\r\n        rsssl_api.doAction( 'vulnerabilities_test_notification' ).then( () => {\r\n            setDisabled(false);\r\n            fetchFieldsData('vulnerabilities');\r\n            fetchVulnerabilities();\r\n            addHelpNotice(\r\n                field.id,\r\n                'success',\r\n                __('All notifications are triggered successfully, please check your email to double-check if you can receive emails.','really-simple-ssl'),\r\n                __('Test notifications','really-simple-ssl'),\r\n                false\r\n            );\r\n        });\r\n    }\r\n\r\n    //ensure that risk levels are enabled cascading\r\n    useEffect( () => {\r\n        let dashboardRiskLevel = getFieldValue('vulnerability_notification_dashboard');\r\n        dashboardRiskLevel = riskLevels.hasOwnProperty(dashboardRiskLevel) ? riskLevels[dashboardRiskLevel] : 0;\r\n        // let siteWideRiskLevel = getFieldValue('vulnerability_notification_sitewide');\r\n        //the sitewide risk level should be at least as high as the dashboard risk level. Disable lower risk levels in sitewide\r\n        //create an array of ints from 1 to dashboardRiskLevel, we drop the * from the array\r\n        let priorDashboardRiskLevel = dashboardRiskLevel>0 ? dashboardRiskLevel-1 :dashboardRiskLevel;\r\n        let dashboardRiskLevels = Array.from(Array(priorDashboardRiskLevel).keys()).map(x => x );\r\n        //convert these integers back to risk levels\r\n        //find the integer value in the riskLevels object, and return the key\r\n        dashboardRiskLevels = dashboardRiskLevels.map( (level) => {\r\n            return Object.keys(riskLevels).find(key => riskLevels[key] === level  );\r\n        });\r\n\r\n        if (dashboardRiskLevels.length > 0) {\r\n            updateFieldAttribute('vulnerability_notification_sitewide', 'disabled', dashboardRiskLevels);\r\n            //if the current value is below the dashboardRisk Level, set it to the dashboardRiskLevel\r\n            let siteWideRiskLevel = getFieldValue('vulnerability_notification_sitewide');\r\n            siteWideRiskLevel = riskLevels.hasOwnProperty(siteWideRiskLevel) ? riskLevels[siteWideRiskLevel] : 0;\r\n            if (siteWideRiskLevel<dashboardRiskLevel) {\r\n                let newRiskLevel = Object.keys(riskLevels).find(key => riskLevels[key] === dashboardRiskLevel  );\r\n                updateField('vulnerability_notification_sitewide', newRiskLevel);\r\n                setChangedField('vulnerability_notification_sitewide', newRiskLevel);\r\n            }\r\n        } else {\r\n            updateFieldAttribute('vulnerability_notification_sitewide', 'disabled', false);\r\n        }\r\n    },[getFieldValue('vulnerability_notification_dashboard')])\r\n\r\n    let fieldCopy = {...field};\r\n    if (!mailNotificationsEnabled) {\r\n        fieldCopy.tooltip = __('You have not enabled the email notifications in the general settings.','really-simple-ssl');\r\n        fieldCopy.warning = true;\r\n    } else if (vulnerabilitiesEnabled && !vulnerabilitiesSaved) {\r\n        fieldCopy.tooltip = __('The notification test only works if you save the setting first.','really-simple-ssl');\r\n        fieldCopy.warning = true;\r\n    }\r\n    return (\r\n        <>\r\n            <label>{props.labelWrap(fieldCopy)}</label>\r\n            <button onClick={ () => doTestNotification()} disabled={ disabled } className=\"button button-default\">{field.button_text}</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NotificationTester","import React, {useEffect,useState} from 'react';\r\nimport UseRiskData from \"./RiskData\";\r\nimport {__} from \"@wordpress/i18n\";\r\nimport useFields from \"../FieldsData\";\r\n\r\nconst RiskComponent = (props) => {\r\n    //first we put the data in a state\r\n    const {riskData, dummyRiskData, processing, dataLoaded, fetchVulnerabilities, updateRiskData} = UseRiskData();\r\n    const { fields, fieldAlreadyEnabled, getFieldValue, setChangedField, updateField, saveFields} = useFields();\r\n    const [measuresEnabled, setMeasuresEnabled] = useState(false);\r\n    const [vulnerabilityDetectionEnabled, setVulnerabilityDetectionEnabled] = useState(false);\r\n    const [DataTable, setDataTable] = useState(null);\r\n    const [theme, setTheme] = useState(null);\r\n    useEffect( () => {\r\n        import('react-data-table-component').then(({ default: DataTable, createTheme }) => {\r\n            setDataTable(() => DataTable);\r\n            setTheme(() => createTheme('really-simple-plugins', {\r\n                divider: {\r\n                    default: 'transparent',\r\n                },\r\n            }, 'light'));\r\n        });\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if ( fieldAlreadyEnabled('enable_vulnerability_scanner')) {\r\n            if (!dataLoaded) {\r\n                fetchVulnerabilities();\r\n            }\r\n        }\r\n        let vulnerabilitiesEnabled = fieldAlreadyEnabled('enable_vulnerability_scanner' );\r\n        setVulnerabilityDetectionEnabled(vulnerabilitiesEnabled);\r\n        let measuresOn = getFieldValue('measures_enabled')==1;\r\n        setMeasuresEnabled(measuresOn);\r\n    }, [fields]);\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n\r\n    useEffect(() => {\r\n        let enabled = getFieldValue('measures_enabled')==1;\r\n        setMeasuresEnabled(enabled);\r\n    }, [] );\r\n\r\n    //we create the columns\r\n    let columns = [];\r\n    //getting the fields from the props\r\n    let field = props.field;\r\n    //we loop through the fields\r\n    field.columns.forEach(function (item, i) {\r\n        let newItem = buildColumn(item)\r\n        columns.push(newItem);\r\n    });\r\n\r\n    //now we get the options for the select control\r\n    let options = props.field.options;\r\n    //we divide the key into label and the value into value\r\n    options = Object.entries(options).map((item) => {\r\n        return {label: item[1], value: item[0]};\r\n    });\r\n\r\n    //and we add the select control to the data\r\n    let data = [...riskData];\r\n    data = data.length===0 ? [...dummyRiskData] : data;\r\n    let disabled = !vulnerabilityDetectionEnabled || !measuresEnabled;\r\n    for (const key in data) {\r\n        let dataItem = {...data[key]}\r\n        dataItem.riskSelection = <select disabled={processing || disabled} value={dataItem.value} onChange={(e) => onChangeHandler(e.target.value, dataItem)}>\r\n            {options.map((option,i) => <option key={i} value={option.value} disabled={ dataItem.disabledRiskLevels &&  dataItem.disabledRiskLevels.includes(option.value)} >{option.label}</option>) }\r\n        </select>\r\n        data[key] = dataItem;\r\n    }\r\n    let processingClass = disabled ? 'rsssl-processing' : '';\r\n\r\n    return (\r\n        <div className={processingClass}>\r\n            {DataTable && <DataTable\r\n                columns={columns}\r\n                data={Object.values(data)}\r\n                theme={theme}\r\n            /> }\r\n        </div>\r\n    )\r\n\r\n    function buildColumn(column) {\r\n        return {\r\n            name: column.name,\r\n            sortable: column.sortable,\r\n            width: column.width,\r\n            selector: row => row[column.column],\r\n            grow: column.grow,\r\n        };\r\n    }\r\n\r\n    function onChangeHandler(fieldValue, item) {\r\n         updateRiskData(item.id, fieldValue);\r\n    }\r\n\r\n}\r\n\r\nexport default RiskComponent;\r\n","/* Creates A Store For Risk Data using Zustand */\r\nimport {create} from 'zustand';\r\nimport * as rsssl_api from \"../../utils/api\";\r\nimport {__} from \"@wordpress/i18n\";\r\nimport {produce} from \"immer\";\r\nimport React from \"react\";\r\n\r\nconst UseRiskData = create((set, get) => ({\r\n    dummyRiskData: [\r\n        {id:'force_update',name:'Force Update',value:'l',description:__('Force update the plugin or theme','really-simple-ssl')},\r\n        {id:'quarantine',name:'Quarantine',value:'m',description:__('Isolates the plugin or theme if no update can be performed','really-simple-ssl')},\r\n    ],\r\n    riskData:[],\r\n    riskLevels: {\r\n        l: 1,\r\n        m: 2,\r\n        h: 3,\r\n        c: 4,\r\n    },\r\n    vulnerabilities: [],\r\n    processing:false,\r\n    dataLoaded: false,\r\n    // Stuff we need for the WPVulData component\r\n    updates: 0, //for letting the component know if there are updates available\r\n    HighestRisk: false, //for storing the highest risk\r\n    lastChecked: '', //for storing the last time the data was checked\r\n    vulEnabled: false, //for storing the status of the vulnerability scan\r\n    riskNaming: {}, //for storing the risk naming\r\n    introCompleted: false, //for storing the status of the first run\r\n    vulList: [], //for storing the list of vulnerabilities\r\n    setDataLoaded: (value) => set({dataLoaded: value}),\r\n    //update Risk Data\r\n    updateRiskData: async (field, value) => {\r\n        set({processing:true});\r\n        set(\r\n            produce((state) => {\r\n                let index = state.riskData.findIndex((item) => item.id === field);\r\n                state.riskData[index].value = value;\r\n                state.riskData = get().enforceCascadingRiskLevels(state.riskData);\r\n            })\r\n        );\r\n        try {\r\n            await rsssl_api.doAction('vulnerabilities_measures_set', {\r\n                riskData: get().riskData,\r\n            });\r\n\r\n            set({dataLoaded: true, processing:false});\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n    setIntroCompleted: (value) => {\r\n        set({introCompleted: value});\r\n    },\r\n    enforceCascadingRiskLevels: (data) => {\r\n        if (data.length===0) return data;\r\n        //get risk levels for force_update\r\n        let forceUpdateRiskLevel = data.filter((item) => item.id==='force_update')[0].value;\r\n        let quarantineRiskLevel = data.filter((item) => item.id==='quarantine')[0].value;\r\n\r\n        //get the integer value of the risk level\r\n        forceUpdateRiskLevel = get().riskLevels.hasOwnProperty(forceUpdateRiskLevel) ? get().riskLevels[forceUpdateRiskLevel] : 5;\r\n        quarantineRiskLevel = get().riskLevels.hasOwnProperty(quarantineRiskLevel) ? get().riskLevels[quarantineRiskLevel] : 5;\r\n        let quarantineIndex = data.findIndex((item) => item.id==='quarantine');\r\n        //if the quarantine risk level is lower than the force update risk level, we set it to the force update risk level\r\n        if (quarantineRiskLevel<forceUpdateRiskLevel) {\r\n            data[quarantineIndex].value = Object.keys(get().riskLevels).find(key => get().riskLevels[key] === forceUpdateRiskLevel);\r\n        }\r\n        //if the force update risk level is none, set quarantine also to none.\r\n        if ( forceUpdateRiskLevel===5 ) {\r\n            data[quarantineIndex].value = '*';\r\n        }\r\n\r\n        //disable all values below this value\r\n        let disableUpTo = forceUpdateRiskLevel>0 ? forceUpdateRiskLevel : 0\r\n        //create an array of integers up to the forceUpdateRiskLevel\r\n        let disabledRiskLevels =  Array.from(Array(disableUpTo).keys()).map(x => x);\r\n        disabledRiskLevels = disabledRiskLevels.map( (level) => {\r\n            return Object.keys(get().riskLevels).find(key => get().riskLevels[key] === level  );\r\n        });\r\n        data[quarantineIndex].disabledRiskLevels = disabledRiskLevels;\r\n        return data;\r\n    },\r\n    fetchFirstRun: async () => {\r\n        await rsssl_api.doAction('vulnerabilities_scan_files');\r\n    },\r\n\r\n    /*\r\n    * Functions\r\n     */\r\n    fetchVulnerabilities: async () => {\r\n        let data = {};\r\n        try {\r\n            const fetched = await rsssl_api.doAction('hardening_data', data);\r\n            let vulList = [];\r\n            let vulnerabilities = 0;\r\n            if (fetched.data.vulList) {\r\n                vulnerabilities = fetched.data.vulnerabilities;\r\n                vulList = fetched.data.vulList;\r\n                if (typeof vulList === 'object') {\r\n                    //we make it an array\r\n                    vulList = Object.values(vulList);\r\n                }\r\n                vulList.forEach(function (item, i) {\r\n                    let updateUrl = item.update_available ? rsssl_settings.plugins_url + \"?plugin_status=upgrade\" : '#settings/vulnerabilities';\r\n                    item.vulnerability_action = <div className=\"rsssl-vulnerability-action\">\r\n                        <a className=\"button\" href={\"https://really-simple-ssl.com/vulnerabilities/\" + item.rss_identifier}\r\n                           target={\"_blank\"}>{__(\"Details\", \"really-simple-ssl\")}</a>\r\n                        <a disabled={!item.update_available} href={updateUrl}\r\n                           className=\"button button-primary\"\r\n                        >{__(\"Update\", \"really-simple-ssl\")}</a>\r\n                    </div>\r\n                });\r\n            }\r\n            let riskData = fetched.data.riskData;\r\n            if (!Array.isArray(riskData)) {riskData = []}\r\n            riskData = get().enforceCascadingRiskLevels(riskData);\r\n            set(\r\n                produce((state) => {\r\n                    state.vulnerabilities = vulnerabilities;\r\n                    state.vulList = vulList;\r\n                    state.updates = fetched.data.updates;\r\n                    state.dataLoaded = true;\r\n                    state.riskNaming = fetched.data.riskNaming;\r\n                    state.lastChecked = fetched.data.lastChecked;\r\n                    state.vulEnabled = fetched.data.vulEnabled;\r\n                    state.riskData = riskData;\r\n                })\r\n            )\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    },\r\n\r\n    vulnerabilityCount: () => {\r\n        let vuls = get().vulList;\r\n        //we group the data by risk level\r\n        //first we make vuls an array\r\n        let vulsArray = [];\r\n        Object.keys(vuls).forEach(function (key) {\r\n            vulsArray.push(vuls[key]);\r\n        });\r\n        let riskLevels = ['c', 'h', 'm', 'l'];\r\n        //we count the amount of vulnerabilities per risk level\r\n        return riskLevels.map(function (level) {\r\n            return {\r\n                level: level,\r\n                count: vulsArray.filter(function (vul) {\r\n                    return vul.risk_level === level;\r\n                }).length\r\n            };\r\n        });\r\n    },\r\n\r\n    vulnerabilityScore: () => {\r\n        let score = 0;\r\n        let vulnerabilitiesList = get().vulList;\r\n\r\n        Object.keys(vulnerabilitiesList).forEach(function (key) {\r\n            //if there are vulnerabilities with critical severity, score is 5\r\n            if (vulnerabilitiesList[key].risk_level === 'c') {\r\n                score = 5;\r\n            } else if (score < 1) {\r\n                score = 1;\r\n            }\r\n        });\r\n        return score;\r\n    },\r\n\r\n    hardeningScore: () => {\r\n        let score = 0;\r\n        let vulnerabilitiesList = get().vulnerabilities;\r\n        for (let i = 0; i < vulnerabilitiesList.length; i++) {\r\n            score += vulnerabilitiesList[i].hardening_score;\r\n        }\r\n        return score;\r\n    },\r\n\r\n    activateVulnerabilityScanner: async () => {\r\n        let data = {};\r\n        try {\r\n            const fetched = await rsssl_api.doAction('rsssl_scan_files');\r\n            if (fetched.request_success) {\r\n                //we get the data again\r\n                const run = async () => {\r\n                    await get().fetchVulnerabilities();\r\n                }\r\n                run();\r\n            }\r\n\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n}));\r\n\r\nexport default UseRiskData;\r\n","import Icon from \"../../utils/Icon\";\r\nimport {useState,useEffect} from '@wordpress/element';\r\nimport useRiskData from \"./RiskData\";\r\nimport useRunnerData from \"./RunnerData\";\r\nimport useFields from \"../FieldsData\";\r\nimport useProgress from \"../../Dashboard/Progress/ProgressData\";\r\n\r\nconst Runner = (props) => {\r\n    //let us make a state for the loading\r\n    const [loadingState, setLoadingState] = useState(true);\r\n    const {setChangedField, updateField, saveFields} = useFields();\r\n    const {getProgressData} = useProgress();\r\n    const {step, setStep} = useRunnerData();\r\n    const {\r\n        fetchFirstRun,\r\n        fetchVulnerabilities,\r\n        setIntroCompleted\r\n    } = useRiskData();\r\n    let spin = (loadingState)? \"icon-spin\" : \"\";\r\n\r\n    //first step\r\n    useEffect(() => {\r\n        if (step===0 && props.currentStep===1) {\r\n            firstRunner();\r\n        }else if (step===1 && props.currentStep===2) {\r\n            secondRunner();\r\n        }else if (step===2 && props.currentStep===3) {\r\n            thirdRunner();\r\n        }else if (step===3 && props.currentStep===4) {\r\n            fourthRunner();\r\n        }\r\n\r\n    }, [step]);\r\n\r\n    const firstRunner = async () => {\r\n        await fetchFirstRun();\r\n        completeCurrentRun();\r\n    }\r\n\r\n    const secondRunner = async () => {\r\n        await fetchVulnerabilities();\r\n        completeCurrentRun();\r\n    }\r\n\r\n    const thirdRunner = async () => {\r\n        //after the first run is complete, and vulnerabilities data is loaded,\r\n        //we reload the progress now to ensure we have all the vulnerabilities loaded on the dashboard.\r\n        await getProgressData();\r\n        completeCurrentRun();\r\n    }\r\n\r\n    const fourthRunner = async () => {\r\n        //last run, store as completed\r\n        setIntroCompleted(true);\r\n        setChangedField('vulnerabilities_intro_shown', true);\r\n        updateField('vulnerabilities_intro_shown', true);\r\n        await saveFields(true, false);\r\n        completeCurrentRun();\r\n    }\r\n\r\n    const completeCurrentRun = () => {\r\n        setTimeout(function () {\r\n            setLoadingState(false);\r\n            setStep(step+1);\r\n        }, 1000 );\r\n    }\r\n\r\n    return (\r\n        <div className=\"rsssl-details\">\r\n            <div className={\"rsssl-detail-icon \" + spin} >\r\n                {loadingState ? <Icon name=\"spinner\" />:<Icon name=\"circle-check\" color=\"green\"/>}\r\n            </div>\r\n            <div className=\"rsssl-detail\">\r\n                <div className=\"rsssl-detail-title\">\r\n                    {props.title}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Runner;","import {create} from \"zustand\";\r\n\r\nconst useRunnerData = create((set, get) => ({\r\n    // loadingState : false,\r\n    // setLoadingState: (state) => set({loadingState: state}),\r\n    // title: '',\r\n    // setTitle: (title) => set({title: title}),\r\n    // time: 0,\r\n    // setTime: (time) => set({time: time}),\r\n    // delay: 0,\r\n    // setDelay: (delay) => set({delay: delay}),\r\n    step:0,\r\n    setStep: (step) => set({step: step}),\r\n}));\r\n\r\nexport default useRunnerData;","import {__} from \"@wordpress/i18n\";\r\nimport {Button, Modal} from \"@wordpress/components\";\r\nimport {useState,useEffect} from '@wordpress/element';\r\nimport Runner from \"./Runner\";\r\nimport useRunnerData from \"./RunnerData\";\r\n\r\nconst VulnerabilitiesIntro = () => {\r\n    //first we define a state for the steps\r\n    const [ isClosed, setClosed ] = useState( false );\r\n    const [ disabled, setDisabled ] = useState( true );\r\n    const {step} = useRunnerData();\r\n\r\n    useEffect (() => {\r\n        if (step===4) {\r\n            setDisabled(false);\r\n        }\r\n    },[step])\r\n\r\n    const closeOnX = () => {\r\n        if (!disabled) {\r\n            setClosed(true);\r\n        }\r\n    }\r\n    //this function closes the modal when onClick is activated\r\n    if(!isClosed) {\r\n        return (\r\n            <>\r\n                <Modal\r\n                    title={__('Introducing vulnerabilities', 'really-simple-ssl')}\r\n                    className=\"rsssl-modal\"\r\n                    onRequestClose={() => closeOnX()}\r\n                    shouldCloseOnClickOutside={true}\r\n                    shouldCloseOnEsc={true}\r\n                    overlayClassName=\"rsssl-modal-overlay\"\r\n                >\r\n                    <div className=\"rsssl-header-extension\">\r\n                        <div>\r\n                            <p>\r\n                                {__(\"You have enabled vulnerability detection! Really Simple SSL will check your plugins, themes and WordPress core daily and report if any known vulnerabilities are found.\", \"really-simple-ssl\")}\r\n                            </p>\r\n                            <img className=\"rsssl-intro-logo\"\r\n                                 src={rsssl_settings.plugin_url+'/assets/img/really-simple-ssl-intro.svg'}>\r\n\r\n                            </img>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"rsssl-ssl-intro-container\">\r\n                        <Runner\r\n                            title={__(\"Preparing vulnerability detection\", \"really-simple-ssl\")}\r\n                            name={\"first_runner\"}\r\n                            loading={true}\r\n                            currentStep={1}\r\n                        />\r\n                        <Runner\r\n                            title={__(\"Collecting plugin, theme and core data\", \"really-simple-ssl\")}\r\n                            name={\"second_runner\"}\r\n                            loading={true}\r\n                            currentStep={2}\r\n                        />\r\n                        <Runner\r\n                            title={__(\"Scanning your WordPress configuration\", \"really-simple-ssl\")}\r\n                            name={\"third_runner\"}\r\n                            loading={true}\r\n                            currentStep={3}\r\n                        />\r\n                        <Runner\r\n                            title={__(\"Reporting enabled\", \"really-simple-ssl\")}\r\n                            name={\"fourth_runner\"}\r\n                            loading={true}\r\n                            currentStep={4}\r\n                        />\r\n                    </div>\r\n                    <div className={'rsssl-modal-footer'}>\r\n                        <Button disabled={disabled}\r\n                            isPrimary\r\n                            onClick={() => {\r\n                                setClosed(true);\r\n                                //we redirect to dashboard\r\n                                window.location.hash = \"dashboard\";\r\n                            }}\r\n                        >\r\n                            {__('Dashboard', 'really-simple-ssl')}\r\n                        </Button>\r\n                        <Button disabled={disabled} isSecondary\r\n                                onClick={() => {\r\n                                    setClosed(true);\r\n                                }}\r\n                        >\r\n                            {__('Dismiss', 'really-simple-ssl')}\r\n                        </Button>\r\n                    </div>\r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n\r\n    //in case the modal is closed we return null\r\n    return null;\r\n}\r\n\r\nexport default VulnerabilitiesIntro;\r\n","import {__} from '@wordpress/i18n';\r\nimport useRiskData from \"./RiskData\";\r\nimport React, {useEffect, useState} from 'react';\r\nimport DataTable, {createTheme} from \"react-data-table-component\";\r\nimport useFields from \"../FieldsData\";\r\nimport VulnerabilitiesIntro from \"./VulnerabilitiesIntro\";\r\nimport useProgress from \"../../Dashboard/Progress/ProgressData\";\r\n\r\nconst VulnerabilitiesOverview = (props) => {\r\n    const {getProgressData} = useProgress();\r\n    const {\r\n        dataLoaded,\r\n        vulList,\r\n        introCompleted,\r\n        fetchVulnerabilities,\r\n        setDataLoaded,\r\n        fetchFirstRun\r\n    } = useRiskData();\r\n    const {fields, fieldAlreadyEnabled, getFieldValue} = useFields();\r\n    const [showIntro, setShowIntro] = useState(false);\r\n    //we create the columns\r\n    let columns = [];\r\n    //getting the fields from the props\r\n    let field = props.field;\r\n    let enabled = false;\r\n    const customStyles = {\r\n        headCells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for head cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n        cells: {\r\n            style: {\r\n                paddingLeft: '0', // override the cell padding for data cells\r\n                paddingRight: '0',\r\n            },\r\n        },\r\n    };\r\n    createTheme('really-simple-plugins', {\r\n        divider: {\r\n            default: 'transparent',\r\n        },\r\n    }, 'light');\r\n    function buildColumn(column) {\r\n        return {\r\n            name: column.name,\r\n            sortable: column.sortable,\r\n            width: column.width,\r\n            visible: column.visible,\r\n            selector: row => row[column.column],\r\n        };\r\n    }\r\n\r\n    let dummyData = [['','','','',''],['','','','',''],['','','','','']];\r\n    field.columns.forEach(function (item, i) {\r\n        let newItem = buildColumn(item)\r\n        columns.push(newItem);\r\n    });\r\n\r\n    //get data if field was already enabled, so not changed right now.\r\n    useEffect(() => {\r\n        if ( fieldAlreadyEnabled('enable_vulnerability_scanner' ) ) {\r\n            if (getFieldValue('vulnerabilities_intro_shown')!=1 && !introCompleted) {\r\n                setShowIntro(true);\r\n            } else {\r\n                //if just enabled, but intro already shown, just get the first run data.\r\n                if ( !dataLoaded ) {\r\n                    initialize();\r\n                }\r\n            }\r\n        }\r\n    }, [fields, dataLoaded]);\r\n\r\n    useEffect(() => {\r\n        //if this value changes, reload vulnerabilities data\r\n        if ( getFieldValue('enable_vulnerability_scanner')==1 && !fieldAlreadyEnabled('enable_vulnerability_scanner') ) {\r\n            setDataLoaded(false);\r\n        }\r\n    }, [fields]);\r\n\r\n    const initialize = async () => {\r\n        await fetchFirstRun();\r\n        await fetchVulnerabilities();\r\n        await getProgressData();\r\n    }\r\n\r\n    fields.forEach(function (item, i) {\r\n        if (item.id === 'enable_vulnerability_scanner') {\r\n            enabled = item.value;\r\n        }\r\n    });\r\n\r\n    if (!enabled) {\r\n        return (\r\n            //If there is no data or vulnerabilities scanner is disabled we show some dummy data behind a mask\r\n            <>\r\n                {showIntro && <>\r\n                        <VulnerabilitiesIntro/>\r\n                    </>\r\n                }\r\n                <DataTable\r\n                    columns={columns}\r\n                    data={dummyData}\r\n                    dense\r\n                    pagination\r\n                    noDataComponent={__(\"No results\", \"really-simple-ssl\")}\r\n                    persistTableHead\r\n                    theme=\"really-simple-plugins\"\r\n                    customStyles={customStyles}\r\n                >\r\n                </DataTable>\r\n                <div className=\"rsssl-locked\">\r\n                    <div className=\"rsssl-locked-overlay\"><span\r\n                        className=\"rsssl-task-status rsssl-open\">{__('Disabled', 'really-simple-ssl')}</span><span>{__('Activate vulnerability detection to enable this block.', 'really-simple-ssl')}</span>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    //we need to add a key to the data called action wich produces the action buttons\r\n    return (\r\n        <>\r\n            {showIntro && <>\r\n                <VulnerabilitiesIntro/>\r\n            </>\r\n            }\r\n            <DataTable\r\n                columns={columns}\r\n                data={vulList}\r\n                dense\r\n                pagination\r\n                persistTableHead\r\n                noDataComponent={__(\"No vulnerabilities found\", \"really-simple-ssl\")}\r\n                theme=\"really-simple-plugins\"\r\n                customStyles={customStyles}\r\n            >\r\n            </DataTable>\r\n\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default VulnerabilitiesOverview;\r\n","/*\r\n* The native selectControl doesn't allow disabling per option.\r\n*/\r\n\r\nconst SelectControl = (props) => {\r\n    let field = props.field;\r\n    let selectDisabled = !Array.isArray(props.disabled) && props.disabled;\r\n    let optionsDisabled = Array.isArray(props.disabled) ? props.disabled : false;\r\n    return (\r\n        <>\r\n            <div className=\"components-base-control\">\r\n                <div className=\"components-base-control__field\">\r\n                    <div data-wp-component=\"HStack\" className=\"components-flex components-select-control\">\r\n                        <label htmlFor={field.id} className=\"components-toggle-control__label\">{props.label}</label>\r\n                        <select disabled={selectDisabled} value={props.value} onChange={(e) => props.onChangeHandler(e.target.value)}>\r\n                            {props.options.map((option,i) => <option key={i} value={option.value} disabled={optionsDisabled && optionsDisabled.includes(option.value)}>{option.label}</option>) }\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {field.comment && <div className=\"rsssl-comment\" dangerouslySetInnerHTML={{__html:field.comment}}></div>}\r\n        </>\r\n    );\r\n}\r\nexport default SelectControl","import {Button, TextareaControl,} from '@wordpress/components';\r\nimport {__} from '@wordpress/i18n';\r\nimport * as rsssl_api from \"../utils/api\";\r\nimport {useState} from \"@wordpress/element\";\r\n\r\nconst Support = () => {\r\n    const [message, setMessage] = useState('');\r\n    const [sending, setSending] = useState(false);\r\n\r\n    const onChangeHandler = (message) => {\r\n        setMessage(message);\r\n    }\r\n\r\n    const onClickHandler = () => {\r\n        setSending(true);\r\n        return rsssl_api.runTest('supportData', 'refresh').then( ( response ) => {\r\n            let encodedMessage = message.replace(/(?:\\r\\n|\\r|\\n)/g, '--br--');\r\n            let url = 'https://really-simple-ssl.com/support'\r\n            +'?customername=' + encodeURIComponent(response.customer_name)\r\n            + '&email=' + response.email\r\n            + '&domain=' + response.domain\r\n            + '&scanresults=' + encodeURIComponent(response.scan_results)\r\n            + '&licensekey=' + encodeURIComponent(response.license_key)\r\n            + '&supportrequest=' + encodeURIComponent(encodedMessage)\r\n            + '&htaccesscontents=' + encodeURIComponent(response.htaccess_contents)\r\n            + '&debuglog=' + encodeURIComponent(response.system_status);\r\n            window.location.assign(url);\r\n        });\r\n    }\r\n\r\n    let disabled = sending || message.length===0;\r\n    return (\r\n        <>\r\n            <TextareaControl\r\n                    disabled={sending}\r\n                    placeholder={__(\"Type your question here\",\"really-simple-ssl\")}\r\n                    onChange={ ( message ) => onChangeHandler(message) }\r\n            />\r\n            <Button\r\n                disabled={disabled}\r\n                variant=\"secondary\"\r\n                onClick={ ( e ) => onClickHandler(e) }>\r\n                { __( 'Send', 'really-simple-ssl' ) }\r\n            </Button>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Support;"],"names":["create","rsssl_api","useProgress","set","get","filter","progressText","notices","error","percentageCompleted","progressLoaded","setFilter","sessionStorage","rsssl_task_filter","state","fetchFilter","Storage","getProgressData","percentage","text","runTest","then","response","dismissNotice","noticeId","notice","id","__","Icon","dispatch","sleeper","useFields","useMenu","TaskElement","props","getField","setHighLightField","fetchFieldsData","setSelectedSubMenuItem","handleClick","output","highlight_field_id","highlightField","menu_id","handleClearCache","cache_id","data","doAction","createNotice","__unstableHTML","type","isDismissible","removeNotice","premium","icon","urlIsExternal","url","indexOf","createElement","className","label","dangerouslySetInnerHTML","__html","msg","target","href","clear_cache_id","onClick","plusone","dismissible","status","e","name","Onboarding","Activate","useUpdateEffect","Hyperlink","Button","Directories","addHelpNotice","updateField","setChangedField","saveFields","action","field","Fragment","handleSwitchToDNS","runLetsEncryptTest","variant","rsssl_settings","hosting_dashboard","useState","useEffect","DnsVerification","fields","getFieldValue","selectedSubMenuItem","tokens","setTokens","newTokens","length","handleSwitchToDir","verificationType","map","tokenData","i","domain","token","Generation","handleSkipDNS","restartTests","Installation","installationData","setInstallationData","generated_by_rsssl","handleCopyAction","success","document","querySelector","innerText","el","value","body","appendChild","select","execCommand","removeChild","certificate_content","download_url","key_content","ca_bundle_content","useRef","useLetsEncryptData","LetsEncrypt","handleNextButtonDisabled","actionsList","setActionsList","setActionsListItem","setActionsListProperty","actionIndex","setActionIndex","attemptCount","setAttemptCount","progress","setProgress","refreshTests","setRefreshTests","sleep","intervalId","previousActionIndex","maxIndex","refProgress","lastAction","reset","getActions","propActions","actions","adjustActionsForDNS","current","startInterval","setInterval","currentAction","do","forEach","statuses","verification_type","dnsVerificationAdded","create_bundle_index","actionsCopy","createBundleAction","newAction","description","attempts","push","processTestResult","newActionIndex","Number","isInteger","event","CustomEvent","detail","dispatchEvent","test","startTime","Date","endTime","timeDiff","elapsedTime","Math","round","hide","message","getStyles","newProgress","Object","assign","width","getStatusIcon","hasOwnProperty","getStatusColor","color","progressCopy","actionsOutput","progressBarColor","style","key","replace","useModal","ModalControl","handleModal","onClickHandler","modalData","item","btnStyle","btnText","ToggleControl","Placeholder","useOnboardingData","useRiskData","updateFieldsData","fetchVulnerabilities","dismissModal","actionHandler","getSteps","certificateValid","networkwide","sslEnabled","dataLoaded","processing","setProcessing","steps","currentStep","currentStepIndex","setCurrentStepIndex","overrideSSL","setOverrideSSL","networkActivationStatus","setNetworkActivationStatus","networkProgress","refreshSSLStatus","activateSSLNetworkWide","email","setEmail","saveEmail","includeTips","setIncludeTips","sendTestEmail","setSendTestEmail","setSelectedMainMenuItem","selectedMainMenuItem","run","runUpdate","items","hardeningItem","find","activateSSL","site_url_changed","window","location","reload","parseStepItems","index","title","current_action","button","read_more","statusIcon","is_plugin","statusColor","currentActions","buttonTitle","showLink","showAsPlugin","isPluginClass","isLink","goToDashboard","isModal","goToLetsEncrypt","letsencrypt_url","saveEmailAndUpdateFields","controlButtons","ActivateSSLText","disabled","pro_plugin_active","upgrade_link","checked","onChange","lines","step","processingClass","placeholder","info_text","button_text","__experimentalConfirmDialog","ConfirmDialog","CheckboxControl","isOpen","setIsOpen","onChangeHandler","executeAction","warning","handleConfirm","handleCancel","fieldValue","handleKeyDown","preventDefault","is_checked","is_disabled","onConfirm","onCancel","onKeyDown","htmlFor","TextControl","RadioControl","TextareaControl","__experimentalNumberControl","NumberControl","License","Password","SelectControl","Host","MixedContentScan","PermissionsPolicy","Support","LearningMode","RiskComponent","VulnerabilitiesOverview","PostDropdown","NotificationTester","getAnchor","Field","scrollAnchor","React","createRef","highLightField","anchor","setAnchor","handleAnchor","scrollIntoView","behavior","block","addEventListener","pattern","regex","RegExp","allowedCharactersArray","match","join","configureFieldCondition","configure_on_activation","condition","configureField","fieldId","labelWrap","tooltipColor","tooltip","highLightClass","options","networkwide_active","networkwide_required","comment","network_link","conditionallyDisabled","visible","ref","selected","required","help","useLearningMode","ChangeStatus","updateStatus","statusClass","Delete","deleteData","focusable","role","xmlns","viewBox","height","fill","d","fetchLearningModeData","learningModeData","enforcedByThirdparty","setEnforcedByThirdparty","enforce","setEnforce","learningMode","setLearningMode","learningModeCompleted","setLearningModeCompleted","hasError","setHasError","lmEnabledOnce","setLmEnabledOnce","filterValue","setFilterValue","controlField","setControlField","DataTable","setDataTable","theme","setTheme","_ref","default","createTheme","divider","conditionalRowStyles","when","row","classNames","customStyles","headCells","paddingLeft","paddingRight","cells","control_field","enforced_by_thirdparty","toggleEnforce","enforceValue","controlFieldValue","toggleLearningMode","lmEnabledOnceField","Filter","configuringString","disabledString","enforcedString","enforceDisabled","columns","newItem","sortable","selector","column","login_status","login_statusControl","statusControl","deleteControl","dense","pagination","noDataComponent","persistTableHead","size","UseLearningMode","lm_action","values","Array","isArray","enabled","updateItem","updateItemId","deleteItem","splice","useLicense","licenseStatus","setLicenseStatus","noticesLoaded","setNoticesLoaded","fieldsUpdateComplete","setFieldsUpdateComplete","setNotices","getLicenseNotices","toggleActivation","license","UseMixedContent","mixedContentData","fixedItemId","nonce","completedStatus","scanStatus","fetchMixedContentData","completed_status","getScanIteration","start","runScanIteration","currentState","stop","removeDataItem","removeItem","fixed","ignoreDataItem","ignoreItem","ignored","fixedItems","ignoredItems","showIgnoredUrls","setShowIgnoredUrls","resetPaginationToggle","setResetPaginationToggle","toggleIgnoredUrls","grow","right","dataTable","warningControl","includes","fix","blocked_url","details","locationControl","detailsControl","fixControl","progressOutput","startDisabled","stopDisabled","paginationResetDefaultPage","updateSubField","enablePermissionsPolicy","setEnablePermissionsPolicy","clickedItem","togglePermissionsPolicyStatus","outputData","itemCopy","valueControl","TextField","apiFetch","posts","setPosts","selectedPost","setSelectedPost","ThemeProvider","setThemeProvider","Autocomplete","setAutocomplete","_ref2","_ref3","typography","fontSize","fontFamily","overrides","MuiInputBase","root","MuiList","MuiAutocomplete","inputRoot","padding","border","flexWrap","popper","paper","option","path","formattedData","post","rendered","getOptionLabel","renderInput","params","_extends","getOptionSelected","newValue","riskLevels","setDisabled","mailNotificationsEnabled","setMailNotificationsEnabled","vulnerabilitiesEnabled","setVulnerabilitiesEnabled","vulnerabilitiesSaved","setVulnerabilitiesSaved","fieldAlreadyEnabled","updateFieldAttribute","mailEnabled","vulnerabilities","enableButton","doTestNotification","dashboardRiskLevel","priorDashboardRiskLevel","dashboardRiskLevels","from","keys","x","level","siteWideRiskLevel","newRiskLevel","fieldCopy","UseRiskData","riskData","dummyRiskData","updateRiskData","measuresEnabled","setMeasuresEnabled","vulnerabilityDetectionEnabled","setVulnerabilityDetectionEnabled","measuresOn","buildColumn","entries","dataItem","riskSelection","disabledRiskLevels","produce","l","m","h","c","updates","HighestRisk","lastChecked","vulEnabled","riskNaming","introCompleted","vulList","setDataLoaded","findIndex","enforceCascadingRiskLevels","console","log","setIntroCompleted","forceUpdateRiskLevel","quarantineRiskLevel","quarantineIndex","disableUpTo","fetchFirstRun","fetched","updateUrl","update_available","plugins_url","vulnerability_action","rss_identifier","vulnerabilityCount","vuls","vulsArray","count","vul","risk_level","vulnerabilityScore","score","vulnerabilitiesList","hardeningScore","hardening_score","activateVulnerabilityScanner","request_success","useRunnerData","Runner","loadingState","setLoadingState","setStep","spin","firstRunner","secondRunner","thirdRunner","fourthRunner","completeCurrentRun","setTimeout","Modal","VulnerabilitiesIntro","isClosed","setClosed","closeOnX","onRequestClose","shouldCloseOnClickOutside","shouldCloseOnEsc","overlayClassName","src","plugin_url","loading","isPrimary","hash","isSecondary","showIntro","setShowIntro","dummyData","initialize","selectDisabled","optionsDisabled","setMessage","sending","setSending","encodedMessage","encodeURIComponent","customer_name","scan_results","license_key","htaccess_contents","system_status"],"sourceRoot":""}